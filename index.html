<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
  <title>王者荣耀｜分路梯度 & 巅峰分段适配（1200-2100）</title>
  <style>
    :root{
      --bg0:#0b1020;
      --bg1:#101a33;
      --card:#121a2f;
      --card2:#0f172a;
      --text:#e8eefc;
      --muted:#a9b4d0;
      --line:rgba(255,255,255,.10);
      --chip:rgba(255,255,255,.08);
      --shadow: 0 14px 30px rgba(0,0,0,.35);
      --accent:#7dd3fc;
      --accent2:#a78bfa;
      --good:#22c55e;
      --ok:#60a5fa;
      --mid:#fbbf24;
      --bad:#f97316;
      --awful:#ef4444;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "PingFang SC","Noto Sans CJK SC","Microsoft YaHei", Arial, "Apple Color Emoji","Segoe UI Emoji";
      color:var(--text);
      background: radial-gradient(900px 500px at 10% 10%, rgba(167,139,250,.18), transparent 60%),
                  radial-gradient(700px 500px at 90% 15%, rgba(125,211,252,.16), transparent 55%),
                  linear-gradient(180deg, var(--bg0), var(--bg1));
      min-height:100vh;
    }
    a{color:var(--accent)}
    header{
      position:sticky; top:0; z-index:30;
      backdrop-filter: blur(12px);
      background: linear-gradient(180deg, rgba(11,16,32,.90), rgba(11,16,32,.65));
      border-bottom:1px solid var(--line);
    }
    .wrap{max-width:1200px;margin:0 auto;padding:18px 16px}
    .titleRow{display:flex;gap:14px;align-items:flex-start;justify-content:space-between;flex-wrap:wrap}
    h1{
      font-size:20px;margin:0;
      letter-spacing:.2px;
    }
    .subtitle{margin-top:6px;color:var(--muted);font-size:13px;line-height:1.5}
    .pill{
      display:inline-flex;align-items:center;gap:8px;
      border:1px solid var(--line);
      background:rgba(255,255,255,.05);
      padding:8px 10px;border-radius:999px;
      font-size:12px;color:var(--muted);
      white-space:nowrap;
    }
    .pill strong{color:var(--text);font-weight:650}
    .controls{display:flex;gap:10px;flex-wrap:wrap;align-items:center;margin-top:14px}
    .tabs{
      display:flex;gap:8px;flex-wrap:wrap;
      padding:8px;border-radius:14px;border:1px solid var(--line);
      background:rgba(255,255,255,.04);
    }
    .tab{
      cursor:pointer; user-select:none;
      padding:8px 10px;border-radius:10px;
      color:var(--muted);font-size:13px;border:1px solid transparent;
    }
    .tab:hover{border-color:rgba(255,255,255,.10);color:var(--text)}
    .tab.active{
      background:linear-gradient(135deg, rgba(125,211,252,.18), rgba(167,139,250,.18));
      border-color:rgba(255,255,255,.12);
      color:var(--text);
    }
    .filters{display:flex;gap:8px;flex-wrap:wrap;align-items:center}
    select,button{
      background:rgba(255,255,255,.06);
      color:var(--text);
      border:1px solid var(--line);
      border-radius:12px;
      padding:10px 10px;
      font-size:13px;
      outline:none;
    }
    button{cursor:pointer}
    button:hover{border-color:rgba(255,255,255,.18)}
    .grid{
      display:grid;
      grid-template-columns: 1.05fr .95fr;
      gap:14px;
      margin-top:16px;
    }
    @media (max-width: 980px){
      .grid{grid-template-columns:1fr}
    }
    .card{
      background: linear-gradient(180deg, rgba(18,26,47,.92), rgba(15,23,42,.86));
      border:1px solid var(--line);
      border-radius:18px;
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .cardHd{
      padding:14px 14px 10px;
      border-bottom:1px solid rgba(255,255,255,.08);
      display:flex;align-items:center;justify-content:space-between;gap:12px;
    }
    .cardHd h2{margin:0;font-size:14px;letter-spacing:.2px}
    .cardBd{padding:14px}
    .kpis{display:flex;gap:10px;flex-wrap:wrap}
    .kpi{
      background:rgba(255,255,255,.04);
      border:1px solid rgba(255,255,255,.08);
      border-radius:14px;
      padding:10px 10px;
      min-width:160px;
      flex: 1 1 160px;
    }
    .kpi .k{font-size:12px;color:var(--muted)}
    .kpi .v{font-size:13px;margin-top:6px;line-height:1.35}
    .list{margin:0;padding-left:18px;color:var(--muted);line-height:1.7;font-size:13px}
    .topPicks{display:flex;gap:10px;flex-wrap:wrap}
    .pick{
      width:calc(50% - 5px);
      background:rgba(255,255,255,.04);
      border:1px solid rgba(255,255,255,.08);
      border-radius:16px;
      padding:10px;
      display:flex;gap:10px;align-items:center;
    }
    @media (max-width: 600px){
      .pick{width:100%}
    }
    .avatar{
      width:46px;height:46px;border-radius:12px;object-fit:cover;
      border:1px solid rgba(255,255,255,.12);
      background:rgba(255,255,255,.06);
      flex:0 0 auto;
    }
    .pick .name{font-weight:700;font-size:13px}
    .pick .desc{font-size:12px;color:var(--muted);margin-top:4px;line-height:1.35}
    .badge{
      font-size:11px;border-radius:999px;padding:4px 8px;
      border:1px solid rgba(255,255,255,.10);
      background:rgba(255,255,255,.05);
      color:var(--muted);
      white-space:nowrap;
    }
    .badge.t0{color:#dbeafe;border-color:rgba(125,211,252,.25);background:rgba(125,211,252,.10)}
    .badge.t05{color:#ede9fe;border-color:rgba(167,139,250,.28);background:rgba(167,139,250,.10)}
    .badge.t1{color:#e0f2fe;border-color:rgba(94,234,212,.25);background:rgba(94,234,212,.10)}
    .badge.t2{color:#dcfce7;border-color:rgba(34,197,94,.22);background:rgba(34,197,94,.10)}
    .badge.t3{color:#fef9c3;border-color:rgba(251,191,36,.25);background:rgba(251,191,36,.10)}
    .badge.t4{color:#ffe4e6;border-color:rgba(244,63,94,.26);background:rgba(244,63,94,.10)}
    .legend{
      display:flex;gap:8px;flex-wrap:wrap;margin-top:10px;
      color:var(--muted);font-size:12px
    }
    .legend .dot{
      width:10px;height:10px;border-radius:3px;display:inline-block;margin-right:6px;border:1px solid rgba(255,255,255,.12)
    }
    .dot.S{background:rgba(34,197,94,.85)}
    .dot.A{background:rgba(96,165,250,.85)}
    .dot.B{background:rgba(251,191,36,.85)}
    .dot.C{background:rgba(249,115,22,.85)}
    .dot.D{background:rgba(239,68,68,.85)}
    .heroGrid{
      display:grid;
      grid-template-columns:repeat(3, 1fr);
      gap:10px;
    }
    @media (max-width: 980px){
      .heroGrid{grid-template-columns:repeat(2,1fr)}
    }
    @media (max-width: 540px){
      .heroGrid{grid-template-columns:1fr}
    }
    .hero{
      cursor:pointer;
      background:rgba(255,255,255,.04);
      border:1px solid rgba(255,255,255,.08);
      border-radius:16px;
      padding:10px;
      display:flex;gap:10px;align-items:flex-start;
      transition: transform .12s ease, border-color .12s ease, background .12s ease;
    }
    .hero:hover{
      transform: translateY(-1px);
      border-color:rgba(255,255,255,.16);
      background:rgba(255,255,255,.05);
    }
    .hero .meta{min-width:0;flex:1}
    .hero .row{display:flex;gap:8px;align-items:center;justify-content:space-between}
    .hero .nm{font-weight:780;font-size:13px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
    .hero .type{font-size:11px;color:var(--muted);margin-top:4px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
    .matrix{
      display:flex;gap:5px;flex-wrap:nowrap;margin-top:8px;
    }
    .cell{
      width:20px;height:18px;border-radius:6px;
      border:1px solid rgba(255,255,255,.10);
      display:flex;align-items:center;justify-content:center;
      font-size:11px;font-weight:800;
      color:rgba(255,255,255,.92);
      opacity:.95;
    }
    .cell.S{background:rgba(34,197,94,.78)}
    .cell.A{background:rgba(96,165,250,.78)}
    .cell.B{background:rgba(251,191,36,.78)}
    .cell.C{background:rgba(249,115,22,.78)}
    .cell.D{background:rgba(239,68,68,.78)}
    .cell.sel{
      outline:2px solid rgba(255,255,255,.75);
      outline-offset:1px;
      opacity:1;
    }
    .mini{font-size:11px;color:var(--muted);margin-top:8px}
    .footer{
      padding:18px 16px 34px;color:var(--muted);font-size:12px;line-height:1.7;
      max-width:1200px;margin:0 auto;
    }
    .hr{height:1px;background:rgba(255,255,255,.10);margin:12px 0}
    /* Modal */
    .modalBackdrop{
      position:fixed; inset:0; z-index:50;
      background:rgba(0,0,0,.62);
      display:none;
      align-items:center; justify-content:center;
      padding:16px;
    }
    .modal{
      width:min(900px, 100%);
      background:linear-gradient(180deg, rgba(18,26,47,.98), rgba(15,23,42,.96));
      border:1px solid rgba(255,255,255,.12);
      border-radius:18px;
      box-shadow: 0 26px 70px rgba(0,0,0,.55);
      overflow:hidden;
    }
    .modalHd{
      padding:14px;
      border-bottom:1px solid rgba(255,255,255,.10);
      display:flex;align-items:center;justify-content:space-between;gap:10px;
    }
    .modalHd .left{display:flex;gap:12px;align-items:center}
    .modalHd h3{margin:0;font-size:15px}
    .xBtn{
      width:36px;height:36px;border-radius:12px;
      display:flex;align-items:center;justify-content:center;
    }
    .modalBd{padding:14px}
    .cols{display:grid;grid-template-columns:1.1fr .9fr;gap:14px}
    @media (max-width: 900px){ .cols{grid-template-columns:1fr} }
    .chips{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}
    .chip{
      font-size:12px;color:var(--muted);
      background:rgba(255,255,255,.05);
      border:1px solid rgba(255,255,255,.10);
      border-radius:999px;
      padding:6px 10px;
    }
    .bars{display:grid;grid-template-columns:1fr;gap:10px;margin-top:10px}
    .barRow{display:grid;grid-template-columns:110px 1fr 34px;gap:10px;align-items:center}
    .barRow .lbl{font-size:12px;color:var(--muted)}
    .bar{
      height:10px;border-radius:999px;border:1px solid rgba(255,255,255,.10);
      background:rgba(255,255,255,.05);
      overflow:hidden;
    }
    .fill{
      height:100%;
      background:linear-gradient(90deg, rgba(125,211,252,.85), rgba(167,139,250,.85));
      width:50%;
    }
    .barRow .n{font-size:12px;color:var(--text);text-align:right}
    .noteBox{
      background:rgba(255,255,255,.04);
      border:1px solid rgba(255,255,255,.08);
      border-radius:16px;
      padding:12px;
      color:var(--muted);
      font-size:13px;
      line-height:1.65;
    }
    .hint{color:var(--muted);font-size:12px}
  
    /* -----------------------
       Mobile fixes (scroll + layout)
       ----------------------- */
    html, body{height:100%}
    body{overflow-x:hidden}
    /* Ensure vertical scrolling still works on tappable cards */
    .hero,.pick{touch-action:pan-y}
    /* Horizontal scroll for tabs on small screens */
    .tabs{touch-action:pan-x}
    /* Lock background scroll when modal is open */
    html.noScroll, body.noScroll{height:100%; overflow:hidden !important}

    /* Make modal content scrollable on small screens */
    .modalBackdrop{overflow:auto}
    .modal{
      max-height: calc(100vh - 32px);
      display:flex;
      flex-direction:column;
    }
    .modalBd{
      overflow:auto;
      -webkit-overflow-scrolling: touch;
    }

    /* Auto-hide sticky header on mobile (JS toggles .isHidden) */
    header{
      transition: transform .18s ease;
      will-change: transform;
    }
    header.isHidden{transform: translateY(-110%)}

    @media (max-width: 720px){
      /* Safe area padding for notched devices */
      header{padding-top: env(safe-area-inset-top)}
      .wrap{
        padding: 12px max(12px, env(safe-area-inset-right)) 12px max(12px, env(safe-area-inset-left));
      }

      h1{font-size:16px}
      .subtitle{font-size:12px}
      .pill{width:100%; justify-content:center}

      .controls{flex-direction:column; align-items:stretch}
      .tabs{
        overflow-x:auto;
        -webkit-overflow-scrolling: touch;
        scrollbar-width: none;
      }
      .tabs::-webkit-scrollbar{display:none}
      .tab{flex:0 0 auto; white-space:nowrap}

      .filters{display:grid; grid-template-columns: 1fr 1fr; gap:8px; width:100%}
      select, button{width:100%}

      /* Modal full-height on mobile */
      .modalBackdrop{padding:0; align-items:stretch}
      .modal{max-height:100vh; width:100%; border-radius:0}
      .modalHd{
        position:sticky; top:0; z-index:2;
        background: linear-gradient(180deg, rgba(18,26,47,.98), rgba(15,23,42,.96));
        backdrop-filter: blur(12px);
      }
    }

    @media (max-width: 380px){
      .filters{grid-template-columns:1fr}
    }

  </style>
</head>
<body>
<header>
  <div class="wrap">
    <div class="titleRow">
      <div>
        <h1 id="pageTitle">王者荣耀｜辅助梯度 & 巅峰分段适配（1200–2100）</h1>
        <div class="subtitle" id="pageSubtitle">
          这是一份“如何选游走更容易抬胜率”的<strong>分段适配</strong>指南：同一个英雄，在不同巅峰分因为队友习惯/小地图/支援速度/英雄池深度不同，胜率体感会完全不一样。
          <br/>版本参考：S41赛季末主流观点 + 公开梯度汇总（页面底部有来源链接）。更新时间：<span id="today"></span>
        </div>
      </div>
      <div class="pill">
        <span>当前分段：</span><strong id="currentBracketLabel">—</strong>
      </div>
    </div>

    <div class="controls">
      <div class="tabs" id="roleTabs"></div>
      <div class="tabs" id="tabs"></div>
      <div class="filters">
        <select id="tierFilter" title="按版本强度筛选">
          <option value="ALL">全部梯度</option>
          <option value="T0">仅看 T0</option>
          <option value="T0.5">仅看 T0.5</option>
          <option value="T1">仅看 T1</option>
          <option value="T2">仅看 T2</option>
          <option value="T3">仅看 T3</option>
          <option value="T4">仅看 T4</option>
        </select>
        <select id="sortBy" title="排序"></select>
        <button id="resetBtn">重置</button>
      </div>
    </div>
  </div>
</header>

<main class="wrap">
  <div class="grid">
    <section class="card">
      <div class="cardHd">
        <h2>分段画像（队友倾向 & 你该怎么“抬”胜率）</h2>
        <span class="badge" id="macroBadge">—</span>
      </div>
      <div class="cardBd">
        <div class="kpis" id="profileKpis"></div>
        <div class="hr"></div>
        <div class="noteBox" id="profileNotes"></div>
      </div>
    </section>

    <section class="card">
      <div class="cardHd">
        <h2 id="poolTitle">本分段更容易赢的“优先池”</h2>
        <span class="hint">点击英雄卡片可看详细适配说明</span>
      </div>
      <div class="cardBd">
        <div class="topPicks" id="topPicks"></div>
        <div class="legend">
          <span><span class="dot S"></span>S：强烈推荐</span>
          <span><span class="dot A"></span>A：推荐</span>
          <span><span class="dot B"></span>B：可用</span>
          <span><span class="dot C"></span>C：慎选</span>
          <span><span class="dot D"></span>D：不建议（除非绝活/对策）</span>
        </div>
      </div>
    </section>
  </div>

  <section class="card" style="margin-top:14px">
    <div class="cardHd">
      <h2 id="matrixTitle">全辅助矩阵（31位｜含常见非常规游走）</h2>
      <span class="hint" id="matrixHint">小格子从左到右：1200-1399 / 1400-1599 / 1600-1799 / 1800-1999 / 2000-2100</span>
    </div>
    <div class="cardBd">
      <div class="heroGrid" id="heroGrid"></div>
      <div class="mini">说明：<strong>版本梯度</strong>用于表达“当前大环境强弱”；而<strong>分段适配</strong>表达“在该分段更容易打出稳定胜率”。两者不等同。</div>
    </div>
  </section>
</main>

<div class="modalBackdrop" id="modalBackdrop" aria-hidden="true">
  <div class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
    <div class="modalHd">
      <div class="left">
        <img class="avatar" id="modalImg" alt=""/>
        <div>
          <h3 id="modalTitle">—</h3>
          <div class="chips" id="modalChips"></div>
        </div>
      </div>
      <button class="xBtn" id="closeModalBtn" aria-label="关闭">✕</button>
    </div>
    <div class="modalBd">
      <div class="cols">
        <div>
          <div class="noteBox" id="modalText"></div>
          <div class="bars" id="modalBars"></div>
        </div>
        <div class="noteBox" id="modalTips"></div>
      </div>
    </div>
  </div>
</div>

<div class="footer">
  <div class="hr"></div>
  <div>
    <strong>方法说明（公开的判断框架）</strong><br/>
    本页面用四类维度估算“某英雄在某分段更容易抬胜率”：<br/>
    1) <strong>队友依赖</strong>（需要跟进/需要沟通/需要会运营的程度）；
    2) <strong>上手难度</strong>（操作与节奏容错）；
    3) <strong>分段队友画像</strong>（小地图、支援速度、控线意识、英雄池深度）；
    4) <strong>版本强度</strong>（公开梯度榜反映的大环境优先级）。<br/>
    最终用 S/A/B/C/D 做分段适配评级：你在这个分段“更容易打出稳定胜率”，但不等于必胜；对策位/绝活位会改变结果。
  </div>
  <div class="hr"></div>
  <div>
    <strong>参考来源</strong><br/>
    <div id="refSources"></div>
  </div>
  <div class="hr"></div>
  <div class="hint">© 仅作学习与讨论用途；版本/装备/英雄改动会让结论波动，请以实际对局与个人熟练度为准。</div>
</div>


<script>
  // -------------------------
  // Shared helpers
  // -------------------------
  function mkHero(name,img,overallTier,type,bestBracket,ratings,stats,tags,summary,perBracketTips,teamNeed){
    const overallRank = {"T0":0,"T0.5":1,"T1":2,"T2":3,"T3":4,"T4":5}[overallTier] ?? 9;
    return {name,img,overallTier,type,bestBracket,ratings,stats,tags,summary,perBracketTips,teamNeed,overallRank};
  }

  const ratingScore = {S:5,A:4,B:3,C:2,D:1};
  const bracketOrder = ["b1","b2","b3","b4","b5"];

  // -------------------------
  // Data: 辅助（来自 index）
  // -------------------------
  const SUPPORT_BRACKETS = [
    { key:"b1", label:"1200–1399", macro:"更偏打架", map:"中低", roam:"慢~中", pool:"偏浅", noteBadge:"需要“容错&硬控”" },
    { key:"b2", label:"1400–1599", macro:"打架为主、开始运营", map:"中", roam:"中", pool:"开始变深", noteBadge:"需要“稳节奏&保护”" },
    { key:"b3", label:"1600–1799", macro:"节奏/运营明显提升", map:"中高", roam:"中快", pool:"更深", noteBadge:"需要“节奏+视野”" },
    { key:"b4", label:"1800–1999", macro:"运营与团战质量都高", map:"高", roam:"快", pool:"深", noteBadge:"需要“体系与反打”" },
    { key:"b5", label:"2000–2100", macro:"顶端局：对策与细节", map:"极高", roam:"很快", pool:"很深", noteBadge:"需要“高上限&对策”" },
  ];

  const SUPPORT_PROFILE = {
    b1:{
      kpis:[
        ["队友特点","喜欢打架但不一定看小地图；容易被抓；节奏点常常“凭感觉”"],
        ["你该做什么","优先用<strong>容错硬辅/点控反刺</strong>，把队友失误‘兜住’，再用强控赢团"],
        ["最能抬胜率","张飞、苏烈、太乙、蔡文姬（对面不出重伤时）、东皇"],
      ],
      notes:`<strong>核心思路：</strong>“稳住再赢”。这个分段最常见的输法是：射手/打野被抓崩 + 团战没人抗第一波。<br/>
      你要把胜率抬起来，就用：<strong>容错（护盾/复活/治疗）+ 明确控制（点控/强控）</strong>。<br/>
      <strong>少选</strong>：特别吃运营、特别吃队友跟进的英雄（例如需要控线/摇人的那类）。`,
      macroBadge:"更偏打架 · 先保后开"
    },
    b2:{
      kpis:[
        ["队友特点","开始会看资源点，但仍容易‘上头’；小地图与支援速度处于中等"],
        ["你该做什么","用<strong>万金油硬辅</strong>稳节奏，用<strong>功能辅</strong>放大强势队友"],
        ["最能抬胜率","张飞、苏烈、少司缘（熟练）、盾山（队友愿意抱团时）、桑启"],
      ],
      notes:`<strong>核心思路：</strong>“别把节奏弄丢”。你要同时做两件事：<br/>
      1) 让射手对线不崩（线权/续航/反抓）；2) 把第一次资源团打成优势（视野+先手/反手）。<br/>
      这个分段已经可以开始练：少司缘/盾山/朵莉亚这种<strong>收益更高但也更吃理解</strong>的英雄。`,
      macroBadge:"打架为主 · 开始运营"
    },
    b3:{
      kpis:[
        ["队友特点","支援更快，愿意围绕河道/野区打小规模团；英雄池更深"],
        ["你该做什么","用<strong>节奏型/视野型</strong>英雄制造信息差，把抓人转成控龙/推塔"],
        ["最能抬胜率","少司缘、空空儿、盾山、苏烈、大乔（会运营）、朵莉亚"],
      ],
      notes:`<strong>核心思路：</strong>“信息差=资源差”。这个分段开始明显奖励：<br/>
      <strong>前两分钟的视野布置、第一条龙的站位、转线速度</strong>。<br/>
      你选高上限英雄的收益开始大于风险：空空儿/少司缘/盾山/元辅这类英雄能把对局带到你的节奏里。`,
      macroBadge:"节奏明显 · 视野很关键"
    },
    b4:{
      kpis:[
        ["队友特点","控线/转线更成熟，团战更讲究进场时机；很多局是运营题"],
        ["你该做什么","用<strong>体系/运营</strong>把多打少做出来，用<strong>对策位</strong>克制对面核心"],
        ["最能抬胜率","少司缘、空空儿、盾山、苏烈、张飞、大乔、张良（针对位）"],
      ],
      notes:`<strong>核心思路：</strong>“一波决定胜负”。高分局更常见的是：<br/>
      你赢不是因为杀得多，而是因为<strong>关键龙团/二塔团</strong>你站位更好、视野更先到、技能链更完整。<br/>
      这个分段建议你准备两个备选：一个<strong>体系强势</strong>（大乔/元辅/空空儿），一个<strong>对策反手</strong>（张良/庄周/东皇）。`,
      macroBadge:"运营+团战质量都高"
    },
    b5:{
      kpis:[
        ["队友特点","对策意识强、细节多：卡草、假视野、节奏点都很精准"],
        ["你该做什么","用<strong>高上限英雄</strong>打信息差，同时在BP与对局中随时切换‘先手/反手’"],
        ["最能抬胜率","少司缘、空空儿、元辅、盾山、苏烈、张飞 + 张良/庄周等对策位"],
      ],
      notes:`<strong>核心思路：</strong>“对策与细节”。顶端局往往不是你选了谁就赢，而是：<br/>
      1) 你能否在前期用视野与转线<strong>锁住对面打野路线</strong>；<br/>
      2) 龙坑团能否做到<strong>先到位、先布视野、先拿站位</strong>；<br/>
      3) 你是否有一个<strong>对策位</strong>能按住对面最难处理的核心。`,
      macroBadge:"顶端局 · 对策与细节"
    },
  };

  const SUPPORT_HEROES = [
    // T0
    mkHero("少司缘","img/577.jpg","T0","软开团/增益","b3",
      {b1:"B",b2:"A",b3:"S",b4:"S",b5:"S"},
      {diff:4, sync:4, vision:4, tempo:4},
      ["开团","加速","联控","后期爆发"],
      "强度很高，但要吃技能命中与节奏判断；熟练后能把“开团→联控→转线”连成一条线，越高分越离谱。",
      {
        b1:"不熟练容易“技能空/开团失败”，建议先用更稳的硬辅。",
        b2:"开始能体现加速与联控价值，跟得上的打野会明显更舒服。",
        b3:"进入强势区间：能带节奏、能保C，属于万金油顶配。",
        b4:"对局理解越高，越能把‘抓机会’转成资源与塔。",
        b5:"顶端局常年高优先级：既能先手也能反打。"
      },
      "队友需求：愿意跟节奏（打野/中单跟得上），射手能站位输出。"
    ),
    mkHero("空空儿","img/550.jpg","T0","骚扰/视野/团战扰动","b3",
      {b1:"C",b2:"A",b3:"S",b4:"S",b5:"S"},
      {diff:5, sync:4, vision:5, tempo:4},
      ["视野","干扰","拉扯","反先手"],
      "上限非常高：分身/位移带来的视野与团战扰动，在高分能把对面节奏打散；低分容易“花里胡哨但不落地”。",
      {
        b1:"队友跟不上时，你的优势很难兑现；更适合组排或自己特别熟练。",
        b2:"能靠视野与骚扰带起节奏，但仍要注意把优势转成控龙/控线。",
        b3:"进入主场：能开团也能反开，强度开始断层。",
        b4:"抓视野窗口、卡草、打信息差，是赢法核心。",
        b5:"对手也很强，但你能用‘信息+换位’创造非对称优势。"
      },
      "队友需求：愿意根据你给的视野做决策（不盲冲）；最好有能跟进的爆发点。"
    ),
    mkHero("张飞","img/171.jpg","T0","硬辅/保护/先手","b1",
      {b1:"S",b2:"S",b3:"A",b4:"A",b5:"A"},
      {diff:2, sync:2, vision:3, tempo:3},
      ["保护","反打","开团","容错高"],
      "最“稳”的上分硬辅之一：保护强、开团明确、容错高。分段越低越能纠错队友失误。",
      {
        b1:"强烈推荐：能救C、能挡技能、能开团。",
        b2:"依旧稳定；注意别无脑开，先把线权/视野做出来。",
        b3:"对手更会拉扯，需要更精确的怒气与进场时机。",
        b4:"更偏体系：你要兼顾视野与反打，不只是一键开团。",
        b5:"仍好用，但需要更细的开团角度与目标选择。"
      },
      "队友需求：最低；你能靠自己把团战打成‘可打’。"
    ),
    mkHero("苏烈","img/194.jpg","T0","硬辅/强控/拆伙","b3",
      {b1:"A",b2:"A",b3:"S",b4:"S",b5:"S"},
      {diff:4, sync:3, vision:3, tempo:4},
      ["强控","拆阵","开团","抗伤"],
      "强控+能抗+能拆伙的典型顶级硬辅：分段越高，越能利用‘控制链 + 站位压迫’把对面阵型打碎。",
      {
        b1:"能赢，但对手失误少时才好滚雪球；别把大招当‘必开’。",
        b2:"开始体现强度：抓落单、守龙坑都很强。",
        b3:"强势区：配合更到位时，开团成功率明显上升。",
        b4:"你能用细节（卡视野、卡闪）决定团战胜负。",
        b5:"顶端局仍是硬辅天花板之一。"
      },
      "队友需求：中等；需要队友能看懂你开团的落点。"
    ),
    mkHero("盾山","img/509.jpg","T0","保护/推进/反制飞行物","b3",
      {b1:"B",b2:"A",b3:"S",b4:"S",b5:"S"},
      {diff:4, sync:4, vision:4, tempo:3},
      ["保护","推进","反消耗","反开团"],
      "强度随队友理解上升：会控线、会围绕推进时，盾山能让对面很多消耗/开团手段失效；低分更容易被拉扯或队友乱走位。",
      {
        b1:"要么很强要么很尴尬：队友不站你盾后面，你就等于少一个人。",
        b2:"开始好用：推进与守塔价值更高。",
        b3:"进入优势区：能把‘线权’变成塔与龙。",
        b4:"体系感很强：搭配阵地射手/消耗体系很恶心。",
        b5:"顶端局常见：反制弹道/分割战场能力突出。"
      },
      "队友需求：偏高；适合愿意“抱团推进”的队友。"
    ),
    mkHero("元流之子(辅助)","img/585.jpg","T0","体系/增益/对策","b3",
      {b1:"C",b2:"A",b3:"S",b4:"S",b5:"S"},
      {diff:4, sync:5, vision:4, tempo:4},
      ["增益","体系","节奏","转线"],
      "体系强、但非常吃理解：需要队友知道什么时候抱团、什么时候换线、怎么吃你给的增益。",
      {
        b1:"不建议盲选：队友不配合时，你会很难把强度打出来。",
        b2:"会玩开始变强；更适合双排/多排。",
        b3:"强势区：你能把节奏与资源串起来。",
        b4:"队友越懂运营，你的价值越接近‘版本答案’。",
        b5:"顶端局：强在细节与对策位。"
      },
      "队友需求：很高；最好有明确的核心与沟通。"
    ),

    // T0.5
    mkHero("太乙真人","img/186.jpg","T0.5","经济/容错/复活","b1",
      {b1:"A",b2:"A",b3:"A",b4:"A",b5:"A"},
      {diff:3, sync:3, vision:3, tempo:3},
      ["加钱","复活","控制","容错"],
      "“机制型抬胜率”代表：加速发育 + 复活容错。强度不一定最夸张，但很稳，尤其适合你想把队友失误‘买回来’。",
      {
        b1:"推荐：队友再乱也能靠复活拉回关键团。",
        b2:"稳定上分；注意别贪经济导致视野缺失。",
        b3:"更依赖你对节奏点的判断（何时跟野、何时保射）。",
        b4:"强在关键节点：龙团、二塔团的复活往往直接定胜负。",
        b5:"顶端局依旧有价值，但更偏对策与体系。"
      },
      "队友需求：中等；核心会吃经济优势更好。"
    ),
    mkHero("大乔","img/191.jpg","T0.5","运营/拉扯/换线","b4",
      {b1:"C",b2:"B",b3:"A",b4:"S",b5:"S"},
      {diff:5, sync:5, vision:4, tempo:5},
      ["运营","回城","摇人","带线"],
      "典型“越高分越强”：会控线、会拉扯、会利用回城/摇人做多打少时，大乔能把对局变成运营题。",
      {
        b1:"慎选：队友不会控线/不会撤退，会把你大招当‘冲锋号’。",
        b2:"开始可用，但更建议双排以上。",
        b3:"能发挥：用回城保命、用摇人反打。",
        b4:"进入主场：带线牵制、龙坑多打少、快速补给都很强。",
        b5:"顶端局强势：你一波运营可以直接结束比赛。"
      },
      "队友需求：很高；需要队友“听得懂”你的运营。"
    ),

    // T1
    mkHero("张良(游走)","img/156.jpg","T1","反手/点控/抓单","b3",
      {b1:"A",b2:"A",b3:"A",b4:"A",b5:"A"},
      {diff:3, sync:3, vision:4, tempo:3},
      ["反手","点控","克制灵活","抓单"],
      "定位很清晰：拿来限制花里胡哨的刺客/战士/射手。不是每局都最强，但在对策局里能把胜率抬起来。",
      {
        b1:"推荐：对手敢乱进就按住秒掉。",
        b2:"开始变成‘针对位’：看到高机动核心就考虑。",
        b3:"高分常见：你不一定开团，但你能让对面不敢开。",
        b4:"价值在“反手”和“关键点控”，别把自己当硬辅冲。",
        b5:"顶端局：对策价值更高，尤其针对镜/马超/公孙离等。"
      },
      "队友需求：中等；需要队友能跟你控到的人输出。"
    ),

    // T2
    mkHero("桑启","img/534.jpg","T2","续航/消耗/小控制","b2",
      {b1:"A",b2:"A",b3:"A",b4:"A",b5:"A"},
      {diff:3, sync:3, vision:3, tempo:3},
      ["续航","消耗","拉扯","保线"],
      "非常‘均衡’的功能辅：线上的续航与消耗都舒服，团战也不至于掉链子。适合想稳住下路、不把节奏搞炸的对局。",
      {
        b1:"好用：能稳住射手发育，减少对线崩盘。",
        b2:"推荐：线上压制与续航更明显。",
        b3:"稳定：注意把优势转成控龙与转线。",
        b4:"需要更细的站位，避免被强开秒。",
        b5:"强度够用，但更依赖你对视野与团战距离的把握。"
      },
      "队友需求：中等；更适合喜欢拉扯/消耗的阵容。"
    ),
    mkHero("墨子(游走)","img/108.jpg","T2","对线压制/控制/消耗","b2",
      {b1:"A",b2:"A",b3:"A",b4:"B",b5:"B"},
      {diff:3, sync:2, vision:3, tempo:2},
      ["消耗","对线强","控制","逼闪"],
      "低中分段很好用：对线强、消耗足、控到就有收获；分段越高，对手越会躲炮、越会绕角度切你。",
      {
        b1:"推荐：对线期你甚至是“第二个射手”。",
        b2:"依旧强：把对线优势转成第一条龙很关键。",
        b3:"还能用：注意别孤立无援站前排挨切。",
        b4:"开始变吃熟练：需要更好的角度与视野配合。",
        b5:"更多是对策/绝活位；否则优先级会低。"
      },
      "队友需求：偏低；你自己能打出线权与消耗。"
    ),
    mkHero("庄周","img/113.jpg","T2","解控/反控制/体系","b4",
      {b1:"B",b2:"B",b3:"B",b4:"A",b5:"A"},
      {diff:2, sync:4, vision:3, tempo:2},
      ["解控","反打","克制控制链","保C"],
      "标准“对策位”：对面控制链多、强开多时，庄周价值飙升；否则就会显得不够主动。",
      {
        b1:"不建议盲选：队友不懂拉扯时，解控收益不稳定。",
        b2:"可用，但更推荐当对策：看对面控制多不多。",
        b3:"对策价值提升：对面节奏更强，庄周能保关键C位。",
        b4:"推荐对策：能把关键团从‘被控死’变成‘能操作’。",
        b5:"顶端局常见对策：尤其克制一套控制链冲脸阵容。"
      },
      "队友需求：偏高；队友需要‘会拉扯、会反打’。"
    ),
    mkHero("刘邦(游走)","img/149.jpg","T2","全图支援/保核/运营","b3",
      {b1:"C",b2:"B",b3:"A",b4:"A",b5:"A"},
      {diff:3, sync:4, vision:4, tempo:4},
      ["全图支援","保核","反开团","带线"],
      "越高分越强：会控线、会看小地图时，你的大招就是“第二个传送门”，能把多打少做得很极致。",
      {
        b1:"慎选：队友不看小地图，你飞过去也可能是送。",
        b2:"可用：更适合你自己有强意识、会判断是否该飞。",
        b3:"推荐：开始能靠全图支援抬节奏。",
        b4:"强：很多团战胜负在你‘飞不飞/飞谁’的一瞬间。",
        b5:"顶端局对策&运营价值都高。"
      },
      "队友需求：偏高；队友要懂得“卖一下等你飞”。"
    ),
    mkHero("杨玉环(游走)","img/176.jpg","T2","续航/团战拉扯/消耗","b2",
      {b1:"A",b2:"A",b3:"B",b4:"B",b5:"B"},
      {diff:3, sync:3, vision:3, tempo:2},
      ["续航","消耗","团战拉扯","保线"],
      "中低分更吃香：持续小治疗+消耗能稳住线上与小团；越高分越容易被针对站位与经济需求。",
      {
        b1:"推荐：队友不出重伤时，续航优势很明显。",
        b2:"依旧好用：打小团很强。",
        b3:"开始变小众：对手更会针对你，且队伍更需要强开/强保。",
        b4:"更偏绝活/体系位。",
        b5:"顶端局多为对策或特定阵容搭配。"
      },
      "队友需求：中等；更适合喜欢拉扯的阵容。"
    ),
    mkHero("西施(游走)","img/523.jpg","T2","控制/拉扯/抓单","b2",
      {b1:"B",b2:"A",b3:"A",b4:"B",b5:"B"},
      {diff:4, sync:3, vision:4, tempo:3},
      ["抓单","控制","拉扯","反手"],
      "强在抓单与中距离控制，但比较吃命中率与队友跟进。中段对局更容易打出性价比。",
      {
        b1:"可用但吃熟练：控不到人就很尴尬。",
        b2:"推荐：抓单与控节奏效率高。",
        b3:"仍好用：配合打野抓边路很强。",
        b4:"对手更会躲与反打，你要更依赖视野与角度。",
        b5:"多为绝活或对策位。"
      },
      "队友需求：中等；需要队友能迅速集火你控到的目标。"
    ),

    // T3
    mkHero("鲁班大师","img/525.jpg","T3","救人/拉人/强配合","b4",
      {b1:"D",b2:"C",b3:"B",b4:"A",b5:"A"},
      {diff:5, sync:5, vision:4, tempo:3},
      ["救人","拉扯","二段开团","保射"],
      "纯配合英雄：你和队友的默契决定强度上限。高分队友会用你的二技能，低分经常“拉了个寂寞”。",
      {
        b1:"不建议：队友不会点二技能/不会跟进。",
        b2:"慎选：双排以上且队友会配合再考虑。",
        b3:"开始可用：尤其配合呆射/站桩C位。",
        b4:"推荐：配合与拉扯质量变高后，机制价值爆发。",
        b5:"顶端局：强在救关键C位和二段开团。"
      },
      "队友需求：很高；最好双排/车队。"
    ),
    mkHero("鬼谷子","img/189.jpg","T3","开团/隐身/抓人","b3",
      {b1:"C",b2:"B",b3:"A",b4:"A",b5:"A"},
      {diff:4, sync:4, vision:4, tempo:5},
      ["开团","抓人","节奏","信息差"],
      "典型节奏辅：抓到就是赢，没抓到容易掉节奏。分段越高，队友越能跟上你的开团窗口。",
      {
        b1:"慎选：队友不跟，等于你自己送。",
        b2:"可用：更适合你擅长找机会。",
        b3:"推荐：抓单与转线效率明显提升。",
        b4:"强：隐身与拉人能把资源团变多打少。",
        b5:"顶端局：更偏对策与体系开团。"
      },
      "队友需求：偏高；需要队友‘一秒跟进’。"
    ),
    mkHero("瑶","img/505.jpg","T3","贴身保护/增益","b1",
      {b1:"A",b2:"A",b3:"B",b4:"C",b5:"C"},
      {diff:2, sync:4, vision:2, tempo:2},
      ["保护","容错","双排","保核"],
      "低分更好赢：对手更少针对、重伤更少；高分对手会用节奏与强开让你很难发挥。适合与明确大腿双排。",
      {
        b1:"推荐（尤其双排）：能给C位很强容错。",
        b2:"仍可用：但要更注意视野与换人附身时机。",
        b3:"开始下滑：对手更会针对你的落点与附身空窗。",
        b4:"慎选：除非阵容特别适配或你是绝活。",
        b5:"更偏体系位，普通单排不建议。"
      },
      "队友需求：高；需要一个你值得挂的核心。"
    ),
    mkHero("蔡文姬","img/184.jpg","T3","治疗/续航/团战","b1",
      {b1:"S",b2:"A",b3:"B",b4:"C",b5:"D"},
      {diff:1, sync:3, vision:2, tempo:1},
      ["治疗","续航","打团","拖后期"],
      "分段越低越容易起飞：因为重伤意识不足、团战更乱；分段越高重伤更普遍，你的价值会被压缩。",
      {
        b1:"强烈推荐：常见‘没人出重伤’直接抬胜率。",
        b2:"推荐：开始有人会出重伤，但仍能稳定抬容错。",
        b3:"可用：更依赖阵容（需要能打拉扯的C位）。",
        b4:"慎选：对手重伤+强突脸会让你非常难受。",
        b5:"一般不建议：除非绝活且阵容极适配。"
      },
      "队友需求：中等；更适合能拉扯的阵容，而不是纯突脸。"
    ),
    mkHero("朵莉亚","img/159.jpg","T3","刷新大招/团控/续航","b3",
      {b1:"B",b2:"B",b3:"A",b4:"A",b5:"A"},
      {diff:4, sync:4, vision:3, tempo:3},
      ["刷新大招","团控","续航","阵容联动"],
      "强在‘把队友的强变得更强’：配合依赖较高，但高分队友越会用大招体系，你的价值越高。",
      {
        b1:"偏吃队友：队友不会用大招窗口时收益不大。",
        b2:"可用：建议看队友有没有强大招核心（如强开/强团控）。",
        b3:"推荐：配合开始稳定，刷新价值明显。",
        b4:"强：体系局很容易滚雪球。",
        b5:"顶端局依旧常见：属于功能位天花板之一。"
      },
      "队友需求：偏高；队伍最好有2个以上‘大招决定团战’的点。"
    ),
    mkHero("东皇太一","img/187.jpg","T3","压制/反刺/强开","b1",
      {b1:"A",b2:"A",b3:"B",b4:"B",b5:"B"},
      {diff:2, sync:2, vision:3, tempo:2},
      ["点控","反刺","强开","稳"],
      "点控压制非常直观：低中分段靠‘按住一个人’就能赢团；高分对手更会绕、也更会用兵线与站位让你很难咬到关键人。",
      {
        b1:"推荐：对面刺客爱冲就直接按。",
        b2:"依旧好用：兼顾对线压迫与反手。",
        b3:"开始变对策：看对面有没有必须按住的核心。",
        b4:"更偏对策：你要更会卡草与找角度。",
        b5:"顶端局依旧有用，但多为‘针对某个英雄’而选。"
      },
      "队友需求：偏低；控到人就能集火即可。"
    ),
    mkHero("王昭君(游走)","img/152.jpg","T3","阵地/团控/消耗","b2",
      {b1:"B",b2:"B",b3:"B",b4:"C",b5:"C"},
      {diff:3, sync:3, vision:3, tempo:2},
      ["阵地","团控","消耗","守点"],
      "更像“法辅”：守龙坑/守塔有价值，但自身脆且需要站位与队伍阵地配合。分段越高越容易被针对。",
      {
        b1:"可用：对手失误多时，你大招常能打满。",
        b2:"可用：适合守点与消耗阵容。",
        b3:"开始吃对策：对面突脸强时很难受。",
        b4:"慎选：高分对手会绕开阵地、直接切你。",
        b5:"更偏绝活/对策位。"
      },
      "队友需求：中等；需要队友能打阵地而不是各打各的。"
    ),
    mkHero("赵怀真(游走)","img/544.jpg","T3","反打/保护/对策","b3",
      {b1:"C",b2:"C",b3:"B",b4:"B",b5:"B"},
      {diff:4, sync:4, vision:4, tempo:3},
      ["反打","保护","对策","开团"],
      "非常规游走：需要理解自己是“反打保护位”而不是纯输出。中高分更容易发挥出对策价值。",
      {
        b1:"不建议：队友不懂拉扯时，你很难打出价值。",
        b2:"慎选：更适合你绝活或阵容特别契合。",
        b3:"可用：对策价值开始出现。",
        b4:"可用：能在反打与保护上做文章。",
        b5:"多为绝活/对策位。"
      },
      "队友需求：偏高；需要队友愿意围绕你打反手。"
    ),

    // T4
    mkHero("钟馗","img/175.jpg","T4","钩子/抓人/不稳定","b1",
      {b1:"A",b2:"B",b3:"C",b4:"D",b5:"D"},
      {diff:4, sync:2, vision:4, tempo:3},
      ["抓人","信息差","惩罚走位","赌命中"],
      "低分更强：因为走位更随意；高分更不稳定：对手站位严谨、视野更好、你钩空一次就掉节奏。",
      {
        b1:"推荐（会钩）：对手失误多，抓一个就能滚雪球。",
        b2:"可用：但开始有人会躲、会反打。",
        b3:"慎选：命中率不够会非常难玩。",
        b4:"不建议：除非绝活且阵容需要你抓开局。",
        b5:"顶端局基本是对策/绝活。"
      },
      "队友需求：偏低；你抓到人队友自然会跟。"
    ),
    mkHero("明世隐","img/501.jpg","T4","数值增益/连体","b1",
      {b1:"S",b2:"A",b3:"B",b4:"C",b5:"D"},
      {diff:2, sync:5, vision:2, tempo:1},
      ["连体","保核","数值增益","怕强开"],
      "低分双排上分神器；高分容易被针对：缺视野、缺控制、容易被强开。",
      {
        b1:"强烈推荐（双排）：让射手/打野数值起飞。",
        b2:"仍强：但要更注意站位与换链时机。",
        b3:"开始下滑：对手更会抓你、也更会出重伤。",
        b4:"慎选：除非队伍有绝对大核且你非常会保。",
        b5:"一般不建议。"
      },
      "队友需求：很高；必须有你值得连的核心，而且核心要会玩。"
    ),
    mkHero("孙膑","img/118.jpg","T4","加速/拉扯/体系","b2",
      {b1:"A",b2:"A",b3:"B",b4:"C",b5:"C"},
      {diff:3, sync:4, vision:3, tempo:3},
      ["加速","拉扯","打团","体系"],
      "强在机动与拉扯，但很吃阵容与队友理解：队友得懂得‘拉开再打’。高分不一定弱，但更偏体系对局。",
      {
        b1:"推荐：对手更爱打架，你加速能把团打赢。",
        b2:"推荐：拉扯与追击都好用。",
        b3:"可用：更依赖阵容（需要会拉扯的C位）。",
        b4:"慎选：对手强开与爆发更高时，你保护能力不足。",
        b5:"更偏对策/体系位。"
      },
      "队友需求：偏高；队友要会拉扯，不要直冲直上。"
    ),
    mkHero("姜子牙(游走)","img/148.jpg","T4","功能/压制/小众","b2",
      {b1:"B",b2:"B",b3:"C",b4:"C",b5:"D"},
      {diff:4, sync:3, vision:3, tempo:2},
      ["消耗","功能","守点","小众"],
      "可玩但偏小众：更像“功能法辅”。如果你不是绝活，很难稳定抬胜率。",
      {
        b1:"可用：但容易拖节奏。",
        b2:"可用：需要你对角度与站位很熟。",
        b3:"慎选：对手更会切你。",
        b4:"慎选：团队更需要稳定开团/保护。",
        b5:"一般不建议。"
      },
      "队友需求：中等；需要队友能打阵地。"
    ),
    mkHero("金蝉(游走)","img/540.jpg","T4","限制位移/对策","b2",
      {b1:"B",b2:"B",b3:"C",b4:"C",b5:"D"},
      {diff:3, sync:3, vision:3, tempo:2},
      ["限制位移","对策","守点","小众"],
      "对策型：限制位移有价值，但整体节奏与开团能力偏弱，容易被强度更高的辅助替代。",
      {
        b1:"可用：对手失误多，你控制收益更大。",
        b2:"可用：更适合针对位移英雄。",
        b3:"慎选：你需要更好的视野与站位。",
        b4:"慎选：对手会绕开你的控制区。",
        b5:"一般不建议。"
      },
      "队友需求：中等；最好队伍还有别的开团点。"
    ),
    mkHero("牛魔","img/168.jpg","T4","硬辅/强开/短手","b1",
      {b1:"A",b2:"A",b3:"B",b4:"C",b5:"D"},
      {diff:3, sync:3, vision:3, tempo:2},
      ["硬开","保护","短手","容错一般"],
      "低分能打：对手站位更差；高分短手问题被放大，进场难、容易被拉扯。",
      {
        b1:"推荐：团战强开很容易赢。",
        b2:"推荐：注意视野与闪现大招的时机。",
        b3:"可用：但会更吃角度与队友跟进。",
        b4:"慎选：短手进场容易被风筝。",
        b5:"不建议（除非绝活/对策）。"
      },
      "队友需求：中等；需要队友能跟你开。"
    ),
    mkHero("刘禅","img/114.jpg","T4","拆塔/节奏/短手","b1",
      {b1:"A",b2:"A",b3:"C",b4:"D",b5:"D"},
      {diff:2, sync:3, vision:2, tempo:3},
      ["拆塔","滚雪球","前期节奏","短手"],
      "低分拆塔收益高；高分对手更会守线与抓你，短手、进场难的问题会被放大。",
      {
        b1:"推荐：会带节奏就能很快推平。",
        b2:"推荐：尤其适合喜欢打架推塔的队友。",
        b3:"慎选：对手开始会针对你、你很容易白给。",
        b4:"不建议：被拉扯得很难开到关键人。",
        b5:"不建议。"
      },
      "队友需求：中等；最好队伍整体愿意快速推进。"
    ),
    mkHero("廉颇(游走)","img/105.jpg","T4","硬辅/强开/简单粗暴","b1",
      {b1:"A",b2:"A",b3:"B",b4:"C",b5:"D"},
      {diff:2, sync:2, vision:2, tempo:2},
      ["硬开","抗伤","打架","容错"],
      "低分非常好用：控制足、简单粗暴；高分会更吃开团角度，且容易被更强势的硬辅替代。",
      {
        b1:"推荐：开团明确、队友容易跟。",
        b2:"推荐：打小团很强。",
        b3:"可用：注意别无脑冲。",
        b4:"慎选：对手更会拉扯。",
        b5:"不建议（除非绝活）。"
      },
      "队友需求：偏低；你开到人队友就能输出。"
    ),
  ];

  // -------------------------
  // Data: 中单（来自 中单_已更新）
  // -------------------------
  const MID_BRACKETS = [
    { key:"b1", label:"1200–1399", macro:"更偏打架", map:"偏低", roam:"慢~中", pool:"偏浅", noteBadge:"先稳线，再抓人" },
    { key:"b2", label:"1400–1599", macro:"打架为主、开始转线", map:"中", roam:"中", pool:"开始变深", noteBadge:"线权→河道→边路" },
    { key:"b3", label:"1600–1799", macro:"节奏/资源团明显提升", map:"中高", roam:"中快", pool:"更深", noteBadge:"清线速度=节奏速度" },
    { key:"b4", label:"1800–1999", macro:"运营与团战质量都高", map:"高", roam:"快", pool:"深", noteBadge:"体系与细节" },
    { key:"b5", label:"2000–2100", macro:"顶端局：对策与信息差", map:"极高", roam:"很快", pool:"很深", noteBadge:"对策 + 先到位" },
  ];

  const MID_PROFILE = {
    b1:{
      kpis:[
        ["队友特点","小地图与支援偏弱，喜欢打架但不一定看线；中路经常被抓崩后全盘乱"],
        ["中路要做什么","<strong>先稳住线权与中塔</strong>，再用“简单有效的抓人/团控”把团战打赢"],
        ["最能抬胜率","安琪拉、妲己、甄姬、小乔（简单高收益） + 张良（对策）"],
      ],
      notes:`<strong>核心思路：</strong>“别先崩”。低分常见输法是：中路被抓死两次，中塔掉了，河道视野没了，然后全队被牵着走。<br/>
      你要抬胜率，优先选：<strong>易上手爆发</strong>或<strong>团控清线</strong>，把队友最常见的失误“兜住”。<br/>
      <strong>慎选</strong>：极吃运营/极吃配合的英雄（例如大乔中单）。`,
      macroBadge:"先稳线 · 再抓人"
    },
    b2:{
      kpis:[
        ["队友特点","开始会围绕河蟹/小龙打，但仍容易上头；支援速度中等"],
        ["中路要做什么","用<strong>清线速度换节奏</strong>：一波线→河道→边路；中路不要长期对炮"],
        ["最能抬胜率","小乔、甄姬、诸葛亮、海月/女娲（熟练）、张良（针对位）"],
      ],
      notes:`<strong>核心思路：</strong>“线权就是第一波资源”。抢线后你先到河道，就能把第一次资源团的站位优势拿到手。<br/>
      这个分段开始可以练：海月/女娲/沈梦溪这种<strong>收益更高、但更吃站位与节奏</strong>的英雄。`,
      macroBadge:"线权→河道→边路"
    },
    b3:{
      kpis:[
        ["队友特点","小地图与支援明显变快；会围绕资源点打小规模团，英雄池更深"],
        ["中路要做什么","把每波兵线都变成一次<strong>支援/控视野</strong>机会：快清线，快到位，快转资源"],
        ["最能抬胜率","海月、女娲、沈梦溪、诸葛亮、西施、不知火舞（熟练）"],
      ],
      notes:`<strong>核心思路：</strong>“清线速度=节奏速度”。中路最强的赢法是：你永远比对面先到河道一步。<br/>
      这档分段非常奖励：<strong>抢线、支援、先占位</strong>。只要你先到位，很多团战甚至不用打满就能赢。`,
      macroBadge:"节奏显著 · 先到位"
    },
    b4:{
      kpis:[
        ["队友特点","团战更讲究进场时机；运营与控线成熟，很多局是“资源题”"],
        ["中路要做什么","你要兼顾：<strong>线权</strong>、<strong>河道视野</strong>、<strong>团战控场</strong>，并把优势转成龙与塔"],
        ["最能抬胜率","海月、女娲、沈梦溪、诸葛亮、嫦娥 + 大乔（会运营时）"],
      ],
      notes:`<strong>核心思路：</strong>“一波资源团定胜负”。这个分段你赢不是杀得多，而是：龙团你先到位、先布视野、先拿站位。<br/>
      建议你准备两个中路池：一个<strong>强势节奏位</strong>（海月/女娲/梦溪），一个<strong>对策位</strong>（张良/武则天等）。`,
      macroBadge:"体系与团战质量"
    },
    b5:{
      kpis:[
        ["队友特点","对策与细节非常强：卡草、假视野、反蹲、换线都更精细"],
        ["中路要做什么","用<strong>信息差</strong>与<strong>对策</strong>赢：先到位、先占草、先消耗；关键技能别乱交"],
        ["最能抬胜率","海月、女娲、沈梦溪、大乔（体系）、干将（熟练）、火舞（熟练）"],
      ],
      notes:`<strong>核心思路：</strong>“对策 + 先到位”。顶端局很多时候不是你输出多，而是你让对面<strong>不敢走某条路、不敢站某个草</strong>。<br/>
      你需要把中路玩成“节奏位”：每波线后都做一件事——压河道、给视野、找角度、逼技能、逼回城。`,
      macroBadge:"对策与信息差"
    },
  };

  const MID_HEROES = [
    // T0
    mkHero("海月","img/521.jpg","T0","单点压制/抓人/小团战","b4",
      {b1:"A",b2:"A",b3:"S",b4:"S",b5:"S"},
      {diff:4, sync:3, clear:4, roam:4},
      ["抓人","强对抗","资源团","单点压制"],
      "版本级强势：能抓人、能压线、能把关键团战打成多打少。",
      {
        b1:"先稳清线再游走；大招优先抓没净化/没位移的脆皮。",
        b2:"抢线后跟打野控河道；用大招隔离核心打多打少。",
        b3:"龙团前提前到位布信息；大招先手抓C或反手隔离切后。",
        b4:"多用“隔离”制造优势团；留位移躲关键控制。",
        b5:"顶端局更看对策：大招抓关键C，或把开团者关进来让队友处理。"
      },
      "队友需求：中等。你能自己创造机会，但队友跟得上会更爆炸。"
    ),
    mkHero("女娲","img/179.jpg","T0","远程控场/封路/支援","b4",
      {b1:"A",b2:"A",b3:"S",b4:"S",b5:"S"},
      {diff:4, sync:2, clear:4, roam:3},
      ["封路","阵地","远程开团","守塔"],
      "版本级强势：安全、控场强、能守能攻；越高分越能用“封路+信息差”赢资源团。",
      {
        b1:"清线后用二技能封走位；别贪压线，先保中塔。",
        b2:"线权在手就控河道草；封路+控制配合打野抓边。",
        b3:"用传送门抢节奏：支援/守塔/抢龙都强；大招可远程开团或收割。",
        b4:"阵地战核心：封路逼位移，先把对面后排打残再开。",
        b5:"顶端局玩信息差：提前摆墙封草，逼对面交关键位移/净化。"
      },
      "队友需求：偏低。你更像“团队节奏稳定器”。"
    ),

    // T0.5
    mkHero("沈梦溪","img/312.jpg","T0.5","清线快/支援/消耗","b3",
      {b1:"B",b2:"A",b3:"S",b4:"S",b5:"S"},
      {diff:4, sync:2, clear:5, roam:5},
      ["清线","支援","消耗","抢节奏"],
      "节奏型法师天花板：清线与支援效率极高，强在把每一波兵线都变成一次节奏机会。",
      {
        b1:"先把清线与安全站位练稳；别盲追，先处理兵线。",
        b2:"清完线就去河道压血线，帮打野抢河蟹/视野。",
        b3:"强势区：一波线一波支援；团前先消耗再接团。",
        b4:"龙团前提前占位压后排；注意防突脸别被秒。",
        b5:"顶端局更强：用消耗把团战变成“残血开团”，效率碾压。"
      },
      "队友需求：偏低。你自己就能带起节奏，队友会接更舒服。"
    ),
    mkHero("诸葛亮","img/190.jpg","T0.5","机动收割/抓机会","b4",
      {b1:"A",b2:"A",b3:"S",b4:"S",b5:"A"},
      {diff:3, sync:2, clear:3, roam:4},
      ["收割","机动","抓机会","逆风翻盘"],
      "稳定的节奏与收割点：能跟着小团滚雪球，也能在逆风靠机会翻盘。",
      {
        b1:"稳清线别乱交位移；有被动层再换血。",
        b2:"跟打野抓边路；二技能留来追击/躲控制，大招别乱交。",
        b3:"抓到人就转资源：击杀后立刻控龙/推塔，别恋战。",
        b4:"别幻想一打五：等队友先手或对面交关键控制再进场收割。",
        b5:"顶端局更偏“效率收割”：保命优先，收关键残血与核心位。"
      },
      "队友需求：偏低。你更像“把优势兑现”的那个人。"
    ),
    mkHero("嫦娥","img/515.jpg","T0.5","半肉法师/续航/资源团","b4",
      {b1:"B",b2:"A",b3:"A",b4:"S",b5:"A"},
      {diff:3, sync:3, clear:4, roam:3},
      ["续航","资源团","抗压","压阵"],
      "强在资源团与中期战斗力：能顶第一波、能压阵地，适合打河道与龙区。",
      {
        b1:"控好蓝量与盾：清线为主，别无脑打架。",
        b2:"线权后游走河道：团前大招先压血线再接团。",
        b3:"团战当半个前排：顶第一波给后排输出空间。",
        b4:"资源团强势：提前占位、逼对面走位，打持久战更赚。",
        b5:"看阵容更重要：对面爆发高时站位更克制，别被瞬秒。"
      },
      "队友需求：中等。队伍愿意围绕河道打，你更强。"
    ),
    mkHero("大乔(中单)","img/191.jpg","T0.5","运营/回城补给/集结","b5",
      {b1:"D",b2:"C",b3:"B",b4:"A",b5:"S"},
      {diff:5, sync:5, clear:4, roam:5},
      ["运营","回城补给","多打少","推塔"],
      "越高分越强的运营中单：能把对局变成“我方永远先到位、永远先补给”。",
      {
        b1:"不推荐：队友不懂回城/集结，会把你当摆设。",
        b2:"想玩建议双排：二技能先当保命口，不要强行摇人。",
        b3:"清线后用传送门支援；大招多用于反打与拆塔节奏。",
        b4:"运营点：线权→支援→多打少；团前先摆好撤退口。",
        b5:"顶端局强：回城补给+集结能把龙团变“必赚”，关键是节奏与沟通。"
      },
      "队友需求：很高。队友会听节奏、会控线，强度才兑现。"
    ),

    // T1
    mkHero("甄姬","img/127.jpg","T1","团控/反打/易上手","b2",
      {b1:"S",b2:"A",b3:"A",b4:"A",b5:"A"},
      {diff:2, sync:3, clear:3, roam:2},
      ["团控","反打","龙坑强","易上手"],
      "稳定的团控法师：低分容易打满控制，高分更依赖站位与角度。",
      {
        b1:"对线期弹弹乐很强；团战先控到人就能赢。",
        b2:"抢线后去河道：一技能控草配合打野抢资源。",
        b3:"龙坑团神：提前站位铺冰；别暴露给刺客。",
        b4:"更偏反手：等对面进场再开大，避免空大。",
        b5:"顶端局要更克制：靠视野与角度，避免先手露头被秒。"
      },
      "队友需求：中等。你控到人，队友能集火就容易赢。"
    ),
    mkHero("小乔","img/106.jpg","T1","爆发/清线/团战输出","b2",
      {b1:"S",b2:"A",b3:"A",b4:"A",b5:"A"},
      {diff:2, sync:2, clear:4, roam:2},
      ["爆发","清线","团战","压制"],
      "“清线快+团战输出高”的经典答案：越高分越考验防抓与站位。",
      {
        b1:"二技能当保命；别压太深，抓到机会一套带走。",
        b2:"清线快：抢线后跟辅助/打野控河道节奏。",
        b3:"更看反蹲与站位：团战任务是打满输出，不是先手送。",
        b4:"团战保持后排距离，用扇子+大招打持续压制。",
        b5:"高分最怕被抓：多看小地图，留闪/净化保命。"
      },
      "队友需求：偏低。你只要不被抓崩，输出就能赢。"
    ),
    mkHero("西施","img/523.jpg","T1","抓单/控制/配合","b3",
      {b1:"B",b2:"A",b3:"A",b4:"A",b5:"B"},
      {diff:4, sync:4, clear:3, roam:3},
      ["抓单","控制","信息差","反手"],
      "抓单与控制很强，但吃命中与队友跟进；中段最容易打出性价比。",
      {
        b1:"先练二技能命中；控到就立刻叫队友打。",
        b2:"抓单强：多去边路草丛找机会，少在中路无意义对炮。",
        b3:"强势区：配合打野抓人效率高，控到就能转资源。",
        b4:"团战更偏反手：拉关键C位出位置，配合集火。",
        b5:"对手更会躲：一定配合视野与绕侧面角度。"
      },
      "队友需求：偏高。你控到人，队友必须跟得上输出。"
    ),
    mkHero("不知火舞","img/157.jpg","T1","高机动/抓人/支援","b4",
      {b1:"C",b2:"B",b3:"A",b4:"A",b5:"A"},
      {diff:5, sync:3, clear:3, roam:5},
      ["抓人","高机动","支援","切后排"],
      "高上限节奏中单：强在抓人、逼技能、打乱对面站位；越高分越强但更吃熟练。",
      {
        b1:"除非绝活：先保证清线不崩，别无脑进场。",
        b2:"以抓单为主：蹲河道/边路草，抓脆皮滚节奏。",
        b3:"清线后多动：进场前先打掉对面关键控制。",
        b4:"高分强势：连招要稳，留位移撤退，打完就走。",
        b5:"对策与细节：更多是逼技能+骚扰后排，不必每次追求秒杀。"
      },
      "队友需求：中等。你能创造机会，但队友会接就更赚。"
    ),
    mkHero("杨玉环","img/176.jpg","T1","续航/消耗/拉扯团","b3",
      {b1:"A",b2:"A",b3:"A",b4:"A",b5:"B"},
      {diff:3, sync:3, clear:3, roam:3},
      ["续航","拉扯","保命","消耗"],
      "稳健型中单：消耗与续航兼具，适合打拉扯与资源团；顶端局更吃阵容与站位。",
      {
        b1:"稳健发育：大招当保命/反打，不要乱交。",
        b2:"跟队伍打小团：你是续航+消耗，别独自深入。",
        b3:"强在拉扯：团前消耗，团中保命，团后追击。",
        b4:"资源团提前占位，别被先手；你越活越强。",
        b5:"对手强突脸时站位更极限：需要队友能打拉扯。"
      },
      "队友需求：中等偏高。队伍会拉扯、会反打时收益最大。"
    ),
    mkHero("貂蝉","img/141.jpg","T1","持续输出/近战法刺","b4",
      {b1:"B",b2:"B",b3:"A",b4:"A",b5:"A"},
      {diff:4, sync:3, clear:3, roam:3},
      ["持续输出","吸血","进场时机","反打"],
      "上限高但更吃进场时机：高分更适合“后进场打持久战”，低分容易上头掉点。",
      {
        b1:"别硬一打多：等对面关键技能交完再进场。",
        b2:"更多打小团与野区团：有视野再进场更稳。",
        b3:"强势区：跟着辅助/打野进场，打持久战很赚。",
        b4:"团战节奏：让队友先开，貂蝉后进收割更稳。",
        b5:"顶端局很吃细节：CD与走位管理决定胜负，别贪输出送掉。"
      },
      "队友需求：中等。队友能给视野/能先手，你更容易起飞。"
    ),

    // T2
    mkHero("上官婉儿","img/513.jpg","T2","爆发切入/高操作","b4",
      {b1:"C",b2:"C",b3:"B",b4:"B",b5:"B"},
      {diff:5, sync:3, clear:3, roam:4},
      ["切后排","爆发","高操作","抓机会"],
      "高操作爆发位：能靠一次成功起飞改变团战，但稳定性与容错都吃熟练度。",
      {
        b1:"除非绝活，否则慎选：飞歪一次就掉节奏。",
        b2:"抓无位移脆皮：先逼位移再起飞更稳。",
        b3:"起飞前先确认视野与反蹲，别盲飞。",
        b4:"高分更要耐心：等关键控制交掉再飞，避免被打断。",
        b5:"对手应对成熟：更多作为威胁位，别每次都强行起飞。"
      },
      "队友需求：中等。你切进去要能有人补伤害/接控制。"
    ),
    mkHero("武则天","img/136.jpg","T2","开团补强/全图控制","b2",
      {b1:"A",b2:"A",b3:"A",b4:"B",b5:"B"},
      {diff:3, sync:4, clear:4, roam:3},
      ["全图控制","开团","反手","控场"],
      "功能与控制很强：大招是节奏按钮；越高分越看“什么时候开”而不是“能不能开”。",
      {
        b1:"团战站后排控场；大招多支援收割。",
        b2:"清线后压河道：击飞/大招配合打野抓单。",
        b3:"你是团队开团补强：可先手也可反手断刺客。",
        b4:"别把自己当纯输出：控场与断节奏更重要。",
        b5:"顶端局更克制：大招留给关键资源点/关键C位。"
      },
      "队友需求：偏高。你控到人，队友要能迅速集火。"
    ),
    mkHero("干将莫邪","img/182.jpg","T2","超远消耗/压制后排","b4",
      {b1:"C",b2:"B",b3:"B",b4:"A",b5:"A"},
      {diff:5, sync:2, clear:3, roam:2},
      ["消耗","压后排","吃熟练","打残再开"],
      "强在持续消耗与压制C位：越高分越能用视野与角度打信息差；低分更吃命中率。",
      {
        b1:"吃命中：准度没练出来不要盲选。",
        b2:"对线靠消耗压血线，但别放线太久，注意支援节奏。",
        b3:"稳定发育后就能压制后排；多用视野找安全角度。",
        b4:"强势区：团前把对面C位打残，队友就很好开团。",
        b5:"顶端局更看信息差：安全角度持续压制，别被先手切死。"
      },
      "队友需求：偏低。你站位安全、消耗到位，就能带队伍赢团。"
    ),

    // T3（含对策/非常规）
    mkHero("高渐离","img/115.jpg","T3","AOE爆发/抽血团","b1",
      {b1:"A",b2:"B",b3:"B",b4:"C",b5:"C"},
      {diff:3, sync:4, clear:2, roam:2},
      ["AOE","吃阵容","近战进场","团战"],
      "更像阵容对策：对面扎堆、近战多时强；高分更容易被拉扯与针对。",
      {
        b1:"抓对手扎堆：大招一开就能改团战，注意别被风筝。",
        b2:"看阵容再选：对面击退多/机动高会很难玩。",
        b3:"更偏对策：适合打抱团/近战多的阵容。",
        b4:"高分慎选：需要队友先手，自己别先送。",
        b5:"顶端局除绝活/对策不建议。"
      },
      "队友需求：偏高。需要队伍能开团、能留人。"
    ),
    mkHero("海诺","img/563.jpg","T3","战士法师/偏门中单","b3",
      {b1:"C",b2:"C",b3:"B",b4:"B",b5:"B"},
      {diff:4, sync:4, clear:3, roam:3},
      ["偏门","吃熟练","打密集","小团"],
      "偏门中单：更吃熟练与阵容窗口；在特定对局能很强，但不属于通用答案。",
      {
        b1:"偏门需要练：先把清线与站位学好。",
        b2:"别无脑换血：找到节奏点再打小团。",
        b3:"中段可用：像战士法师，适合打密集阵容。",
        b4:"看阵容：对面爆发高/强控制时谨慎。",
        b5:"顶端局多为绝活/对策。"
      },
      "队友需求：偏高。队伍愿意围绕你打小团/资源团更好。"
    ),
    mkHero("张良","img/156.jpg","T3","点控对策/抓单","b3",
      {b1:"A",b2:"A",b3:"A",b4:"B",b5:"B"},
      {diff:3, sync:4, clear:3, roam:3},
      ["点控","对策","抓单","反刺"],
      "标准对策中单：按住高机动核心就能赢团；高分更看“按谁、何时按”。",
      {
        b1:"控到就赢：别贪输出，按住脆皮让队友秒。",
        b2:"跟打野抓边：你负责定点，队友负责输出。",
        b3:"对策位：专门按刺客/射手；大招别浪费在坦克。",
        b4:"更看时机：留大招防切后，不一定要先手。",
        b5:"顶端局价值在威慑：站位更安全，控到关键人再打资源。"
      },
      "队友需求：偏高。控到人必须有人补伤害。"
    ),

    // T4（版本弱势但低分/对策仍可用）
    mkHero("弈星","img/197.jpg","T4","封路/阵地/偏功能","b1",
      {b1:"B",b2:"B",b3:"C",b4:"C",b5:"D"},
      {diff:3, sync:4, clear:4, roam:3},
      ["封路","阵地","大招","偏功能"],
      "功能与阵地还在，但整体节奏与强度不如主流中单；越高分越难发挥。",
      {
        b1:"以守为主：大招封路抓人，但别太被动。",
        b2:"团战靠大招圈人，需要队友跟进。",
        b3:"开始乏力：更要配合视野与反蹲。",
        b4:"慎选：更需要强势中路带节奏。",
        b5:"不建议。"
      },
      "队友需求：偏高。需要队友懂得围绕你的阵地打。"
    ),
    mkHero("安琪拉","img/142.jpg","T4","爆发/易上手/怕突脸","b1",
      {b1:"S",b2:"A",b3:"B",b4:"C",b5:"D"},
      {diff:2, sync:2, clear:3, roam:2},
      ["爆发","蹲草","易上手","怕切"],
      "低分一套秒人的代表；越高分越容易被抓与被绕后切。",
      {
        b1:"一套秒人：多蹲草抓脆皮，打到就能滚雪球。",
        b2:"别站太前：控制配合打野更稳，大招注意别被打断。",
        b3:"更吃视野：容易被抓，适合当补伤害而不是主节奏。",
        b4:"慎选：对手会绕角度切你，除非绝活。",
        b5:"不建议。"
      },
      "队友需求：偏低。你抓到人就能拿优势。"
    ),
    mkHero("妲己","img/109.jpg","T4","锁敌爆发/抓单","b1",
      {b1:"S",b2:"A",b3:"B",b4:"C",b5:"D"},
      {diff:1, sync:2, clear:2, roam:2},
      ["抓单","爆发","易上手","滚雪球"],
      "低分“锁头”抓单强势；高分被视野与净化克制，更多是对策位。",
      {
        b1:"多蹲草抓脆皮：控到就秒，别浪费技能在坦克。",
        b2:"配合打野抓边很有效，但记得先清线。",
        b3:"开始容易被反制：更需要视野与站位。",
        b4:"慎选：更适合作为对策抓特定英雄。",
        b5:"不建议。"
      },
      "队友需求：偏低。你控到人队友补伤害即可。"
    ),
    mkHero("嬴政","img/110.jpg","T4","远程消耗/压线","b1",
      {b1:"A",b2:"B",b3:"B",b4:"C",b5:"D"},
      {diff:3, sync:2, clear:4, roam:2},
      ["消耗","压线","推塔","怕突脸"],
      "对线压制还在，但整体节奏与爆发不如主流；高分更容易被突脸针对。",
      {
        b1:"对线压制强：用大招压塔/打团，注意别被突脸。",
        b2:"抢线后压河道血线，别长期站中路对炮。",
        b3:"开始乏力：对手会针对你站位与闪现。",
        b4:"慎选：节奏与爆发不足。",
        b5:"不建议。"
      },
      "队友需求：偏低。你只要站得住，输出就有价值。"
    ),
    mkHero("王昭君","img/152.jpg","T4","守点/团控/阵地","b1",
      {b1:"A",b2:"B",b3:"B",b4:"C",b5:"D"},
      {diff:2, sync:3, clear:3, roam:2},
      ["守点","龙坑","反打","阵地"],
      "低分守点很强；高分更容易被绕后切与被打断大招。",
      {
        b1:"守点强：龙坑/塔下大招容易打满。",
        b2:"控线守塔+反打：留技能防切。",
        b3:"更吃角度：对手更会躲与打断。",
        b4:"慎选：容易被强突脸。",
        b5:"不建议。"
      },
      "队友需求：中等。需要队伍愿意守点打阵地。"
    ),
    mkHero("周瑜","img/124.jpg","T4","推线/消耗/压塔","b1",
      {b1:"A",b2:"B",b3:"C",b4:"C",b5:"D"},
      {diff:3, sync:3, clear:5, roam:2},
      ["清线","压塔","火区","推中"],
      "推线压塔能力强：低分靠推塔滚雪球；高分对手清线与防抓更成熟。",
      {
        b1:"推线快：用火区压线，多转线推塔。",
        b2:"节奏点：线权→入侵→推中塔。",
        b3:"对手更会清火与躲火，收益下降。",
        b4:"慎选：强度与爆发不足。",
        b5:"不建议。"
      },
      "队友需求：中等。队伍愿意推进，你更容易赢。"
    ),
    mkHero("扁鹊","img/119.jpg","T4","续航/拖后期","b1",
      {b1:"A",b2:"B",b3:"C",b4:"D",b5:"D"},
      {diff:2, sync:3, clear:2, roam:2},
      ["续航","怕爆发","拖后期","重伤克制"],
      "低分续航优势明显；分段越高爆发越高、重伤越普遍，强度会被压缩。",
      {
        b1:"小团很强：注意别被一套秒，团前叠毒更赚。",
        b2:"对面出重伤后收益下降：你要更会拉扯。",
        b3:"开始被爆发压制：更依赖阵容保护。",
        b4:"不建议：爆发环境更重。",
        b5:"不建议。"
      },
      "队友需求：偏高。需要队伍能保护你打持续战。"
    ),
    mkHero("金蝉","img/540.jpg","T4","限制位移/对策","b2",
      {b1:"B",b2:"B",b3:"C",b4:"C",b5:"D"},
      {diff:3, sync:4, clear:2, roam:2},
      ["限制位移","对策","守点","偏慢"],
      "对策型中单：打高机动阵容有用，但整体清线与节奏偏慢。",
      {
        b1:"打短手/突进有用；但清线慢，别丢线权。",
        b2:"对策位：针对位移英雄，站位更靠后。",
        b3:"收益下降：对手更会绕，需要视野配合。",
        b4:"慎选：更需要主流强势中路。",
        b5:"不建议。"
      },
      "队友需求：偏高。你更需要队伍有其他开团点。"
    ),
    mkHero("米莱狄","img/504.jpg","T4","推塔/滚雪球","b1",
      {b1:"A",b2:"A",b3:"B",b4:"C",b5:"C"},
      {diff:2, sync:2, clear:4, roam:2},
      ["推塔","滚雪球","拆中塔","抓人少"],
      "低分推塔收益极高；高分更会清兵守塔，你需要更强的转线与节奏意识。",
      {
        b1:"推塔神器：先推中塔再滚雪球，别贪人头。",
        b2:"推塔时更怕被抓：做好视野再压塔。",
        b3:"开始被针对：对手清线快，你要更会转线。",
        b4:"慎选：高分守塔更成熟。",
        b5:"慎选：更多是对策/绝活。"
      },
      "队友需求：偏低。你能自己把优势变成塔。"
    ),
    mkHero("姜子牙","img/148.jpg","T4","远程消耗/功能","b2",
      {b1:"B",b2:"B",b3:"C",b4:"D",b5:"D"},
      {diff:4, sync:4, clear:2, roam:2},
      ["远程","功能","吃角度","偏弱势"],
      "可玩但偏小众：更像功能法师；若不是绝活，不容易稳定抬胜率。",
      {
        b1:"远程消耗但别太被动：抢线权再支援。",
        b2:"大招角度很重要：龙坑/塔下更好用。",
        b3:"开始难：对手会切你，必须更靠视野。",
        b4:"不建议。",
        b5:"不建议。"
      },
      "队友需求：偏高。需要队伍能帮你站位与守视野。"
    ),
    mkHero("墨子(中单)","img/108.jpg","T4","炮台消耗/控制","b2",
      {b1:"A",b2:"A",b3:"B",b4:"C",b5:"D"},
      {diff:3, sync:2, clear:3, roam:2},
      ["消耗","控制","对线强","容易被切"],
      "低中分好用：对线压制与控制强；高分更容易被绕后切，且节奏不如主流中单。",
      {
        b1:"炮命中就赚：压血线+控到秒，注意反蹲。",
        b2:"抢线压河道：打到就是赚，但别站太前。",
        b3:"开始被绕切：更依赖视野与队友保护。",
        b4:"慎选：更多建议走游走/辅助位。",
        b5:"不建议。"
      },
      "队友需求：偏低。你命中率高就能建立优势。"
    ),
    mkHero("元流之子(法师)","img/582.jpg","T4","新英雄/功能输出","b3",
      {b1:"C",b2:"B",b3:"B",b4:"C",b5:"C"},
      {diff:3, sync:3, clear:3, roam:3},
      ["新英雄","吃熟练","功能","需要理解"],
      "新英雄（法师形态）：玩法与节奏更吃熟练度；中段可用，高分更偏绝活。",
      {
        b1:"机制新且吃熟练：先把清线与保命学稳。",
        b2:"当功能法师：以清线支援为主，不要硬单杀。",
        b3:"中段可用：跟着节奏走，团战找安全输出位。",
        b4:"慎选：更建议用更稳定的T0/T0.5。",
        b5:"慎选：需要绝活熟练度与阵容配合。"
      },
      "队友需求：中等。队友愿意跟节奏，你更容易发挥。"
    ),

    // 非常规中单（常见能打但更吃熟练/对策）
    mkHero("露娜(中单)","img/146.jpg","T3","绝活法刺/收割","b4",
      {b1:"D",b2:"C",b3:"B",b4:"B",b5:"C"},
      {diff:5, sync:2, clear:2, roam:4},
      ["绝活","高操作","收割","风险高"],
      "非常规绝活中单：上限高但风险也高；不熟练等于掉节奏。",
      {
        b1:"除非绝活：容易断连导致送。",
        b2:"先打稳发育：别强行进场。",
        b3:"能玩：抓落单与收割为主，看视野进场。",
        b4:"高分绝活位：进场时机与兵线处理更重要。",
        b5:"顶端局风险高：更偏对策与极强熟练度。"
      },
      "队友需求：偏低。你更需要自己的稳定性与判断。"
    ),
    mkHero("司马懿(中单)","img/137.jpg","T3","刺客型中单/抓后排","b3",
      {b1:"B",b2:"B",b3:"B",b4:"C",b5:"C"},
      {diff:4, sync:2, clear:3, roam:4},
      ["切后排","抓人","怕反蹲","高风险"],
      "刺客型中单：清线后抓人很强，但高分更看视野与反蹲，风险上升。",
      {
        b1:"抓后排很爽：多蹲草，但别乱切送。",
        b2:"清线后游走：带节奏为主，不要当线上法师对炮。",
        b3:"更吃视野：先控河道再找切入。",
        b4:"慎选：对手会提前布视野与反蹲。",
        b5:"慎选：更多是对策/绝活。"
      },
      "队友需求：偏低。你要自己把进场风险算清楚。"
    ),
    mkHero("司空震(中单)","img/537.jpg","T3","发育型法战/中后期","b3",
      {b1:"C",b2:"B",b3:"B",b4:"C",b5:"C"},
      {diff:4, sync:3, clear:3, roam:3},
      ["发育","中后期","怕强开","吃站位"],
      "发育型中单：成型后团战很强，但前期更怕被针对；高分更容易被抓节奏。",
      {
        b1:"需要发育：前期别拼命，先把线清稳。",
        b2:"中期成型后再打团，站位别太靠前。",
        b3:"可用：拿线权跟资源团，注意怕强开。",
        b4:"慎选：对手会针对你发育期与站位。",
        b5:"慎选：更偏绝活/对策。"
      },
      "队友需求：中等。队友能帮你稳过前期，你的团战会更强。"
    ),
  ];

  // -------------------------
  // Role configs
  // -------------------------
  const ROLE_LIST = [
    { key:"support", label:"辅助" },
    { key:"mid", label:"中单" },
    { key:"jungle", label:"打野" },
    { key:"marksman", label:"射手" },
    { key:"solo", label:"对抗" },
  ];

  const ROLE_CONFIGS = {
    support: {
      label: "辅助",
      pageTitle: "王者荣耀｜辅助梯度 & 巅峰分段适配（1200–2100）",
      subtitleHTML: `这是一份“如何选游走更容易抬胜率”的<strong>分段适配</strong>指南：同一个英雄，在不同巅峰分因为队友习惯/小地图/支援速度/英雄池深度不同，胜率体感会完全不一样。
          <br/>版本参考：S41赛季末主流观点 + 公开梯度汇总（页面底部有来源链接）。更新时间：<span id="today"></span>`,
      poolTitle: "本分段更容易赢的“辅助优先池”",
      matrixTitle: "全辅助矩阵（31位｜含常见非常规游走）",
      matrixHint: "小格子从左到右：1200-1399 / 1400-1599 / 1600-1799 / 1800-1999 / 2000-2100",
      refsHTML: `- S41 赛季末辅助梯度（指尖上的王者／腾讯新闻）：https://news.qq.com/rain/a/20251226A042BB00<br/>
    - S41 赛季辅助梯度（17173）：https://news.17173.com/content/10072025/210609485.shtml<br/>
    - 英雄与头像图（52API 英雄数据库）：https://pvp.52api.cn/`,
      data: {
        BRACKETS: SUPPORT_BRACKETS,
        HEROES: SUPPORT_HEROES,
        PROFILE: SUPPORT_PROFILE,
      },
      sortOptions: [
        {value:"RATING", text:"按当前分段适配排序"},
        {value:"OVERALL", text:"按版本梯度排序"},
        {value:"NAME", text:"按名称排序"},
        {value:"DIFF", text:"按上手难度排序"},
        {value:"SYNC", text:"按队友依赖排序"},
      ],
      miniMetrics: [
        {label:"队友依赖", key:"sync"},
        {label:"上手", key:"diff"},
      ],
      barItems: [
        ["上手难度","diff"],
        ["队友依赖","sync"],
        ["视野收益","vision"],
        ["节奏能力","tempo"],
      ],
      quickMap: {
      "b1":"更强调容错/点控/稳团战",
      "b2":"更强调稳节奏+放大强势队友",
      "b3":"更强调视野与抓机会的效率",
      "b4":"更强调体系与团战质量",
      "b5":"更强调对策与细节上限",
    },
      quickSlice: 42,
      modalTipsHTML: `
      <strong>分段小贴士</strong><br/>
      <ul class="list">
        <li><strong>你想抬胜率：</strong>先保证射手不崩（线权/反抓），再把第一次资源团打成优势。</li>
        <li><strong>高分通用：</strong>永远提前 5–10 秒到河道布视野；把“抓到人”变成“控龙/推塔”。</li>
        <li><strong>对策优先级：</strong>看到对面强突脸/高机动核心，优先考虑张良/东皇/庄周等反手位。</li>
        <li><strong>别被评分绑架：</strong>绝活>版本，尤其在单排；但当你熟练度相当时，评分能帮你选更稳的赢法。</li>
      </ul>
      <div class="hr"></div>
      <div class="hint">提示：矩阵评分是“更容易打出稳定胜率”，不是官方胜率数据。</div>
    `,
      placeholder: false,
    },
    mid: {
      label: "中单",
      pageTitle: "王者荣耀｜中单梯度 & 巅峰分段适配（1200–2100）",
      subtitleHTML: `这是一份“中路怎么选更容易抬胜率”的<strong>分段适配</strong>指南：同一个中单英雄，在不同巅峰分因为队友的控线/支援/小地图/团战理解不同，强度体感会差很多。<br/>
          版本参考：S41赛季末公开梯度观点（数据截止 2025-12-23，页面底部标注来源）。更新时间：<span id="today"></span>`,
      poolTitle: "本分段更容易赢的“中单优先池”",
      matrixTitle: "全中路英雄矩阵（含常见非常规中单）",
      matrixHint: "小格子从左到右：1200-1399 / 1400-1599 / 1600-1799 / 1800-1999 / 2000-2100",
      refsHTML: `- S41赛季末中路梯度（腾讯新闻·指尖上的王者）：https://news.qq.com/rain/a/20251223A03LIS00<br/>
    - S41中单梯度（17173）：https://news.17173.com/content/10032025/205705981.shtml<br/>
    - 英雄头像图（52API 英雄数据库）：https://pvp.52api.cn/`,
      data: {
        BRACKETS: MID_BRACKETS,
        HEROES: MID_HEROES,
        PROFILE: MID_PROFILE,
      },
      sortOptions: [
        {value:"RATING", text:"按当前分段适配排序"},
        {value:"OVERALL", text:"按版本梯度排序"},
        {value:"NAME", text:"按名称排序"},
        {value:"DIFF", text:"按上手难度排序"},
        {value:"CLEAR", text:"按清线能力排序"},
        {value:"ROAM", text:"按支援能力排序"},
      ],
      miniMetrics: [
        {label:"上手", key:"diff"},
        {label:"清线", key:"clear"},
        {label:"支援", key:"roam"},
      ],
      barItems: [
        ["上手难度","diff"],
        ["队友依赖","sync"],
        ["清线能力","clear"],
        ["支援能力","roam"],
      ],
      quickMap: {
      "b1":"先稳线，抓人/团控取胜",
      "b2":"线权换节奏，带资源团",
      "b3":"清线快=支援快",
      "b4":"体系与团战质量",
      "b5":"对策与信息差",
    },
      quickSlice: 44,
      modalTipsHTML: `
      <strong>中路通用小贴士</strong><br/>
      <ul class="list">
        <li><strong>第一原则：</strong>中塔别先掉。中塔一掉，视野与河道节奏全没。</li>
        <li><strong>线权=节奏：</strong>每波线清完做一件事：压河道、给视野、支援边路、或帮打野入侵。</li>
        <li><strong>资源团：</strong>提前 5–10 秒到河道卡草/占位，团战自然更好打。</li>
        <li><strong>别贪：</strong>中单最常见掉分方式是“多贪一波线/多贪一个人头”然后被抓死。</li>
        <li><strong>对策：</strong>对面高机动/强刺客时，张良/武则天/女娲这类控场与反手更稳。</li>
      </ul>
      <div class="hr"></div>
      <div class="hint">提示：矩阵评分是“更容易稳定赢”，不是官方胜率统计。</div>
    `,
      placeholder: false,
    },
    jungle: {
      label:"打野",
      pageTitle:"王者荣耀｜打野梯度 & 巅峰分段适配（1200–2100）",
      subtitleHTML:`该分路页面已预留位置，后续会补充对应的强度矩阵与分段适配。更新时间：<span id="today"></span>`,
      poolTitle:"本分段更容易赢的“打野优先池”（待补充）",
      matrixTitle:"全打野英雄矩阵（待补充）",
      matrixHint:"小格子从左到右：1200-1399 / 1400-1599 / 1600-1799 / 1800-1999 / 2000-2100",
      refsHTML:`- （待补充）`,
      data: { BRACKETS: SUPPORT_BRACKETS, HEROES: [], PROFILE: null },
      sortOptions: [
        {value:"RATING", text:"按当前分段适配排序"},
        {value:"OVERALL", text:"按版本梯度排序"},
        {value:"NAME", text:"按名称排序"},
      ],
      miniMetrics: [],
      barItems: [],
      quickMap: {},
      quickSlice: 42,
      modalTipsHTML: `<strong>提示</strong><br/>该分路详情待补充。`,
      placeholder: true,
    },
    marksman: {
      label:"射手",
      pageTitle:"王者荣耀｜射手梯度 & 巅峰分段适配（1200–2100）",
      subtitleHTML:`该分路页面已预留位置，后续会补充对应的强度矩阵与分段适配。更新时间：<span id="today"></span>`,
      poolTitle:"本分段更容易赢的“射手优先池”（待补充）",
      matrixTitle:"全射手英雄矩阵（待补充）",
      matrixHint:"小格子从左到右：1200-1399 / 1400-1599 / 1600-1799 / 1800-1999 / 2000-2100",
      refsHTML:`- （待补充）`,
      data: { BRACKETS: SUPPORT_BRACKETS, HEROES: [], PROFILE: null },
      sortOptions: [
        {value:"RATING", text:"按当前分段适配排序"},
        {value:"OVERALL", text:"按版本梯度排序"},
        {value:"NAME", text:"按名称排序"},
      ],
      miniMetrics: [],
      barItems: [],
      quickMap: {},
      quickSlice: 42,
      modalTipsHTML: `<strong>提示</strong><br/>该分路详情待补充。`,
      placeholder: true,
    },
    solo: {
      label:"对抗",
      pageTitle:"王者荣耀｜对抗路梯度 & 巅峰分段适配（1200–2100）",
      subtitleHTML:`该分路页面已预留位置，后续会补充对应的强度矩阵与分段适配。更新时间：<span id="today"></span>`,
      poolTitle:"本分段更容易赢的“对抗路优先池”（待补充）",
      matrixTitle:"全对抗路英雄矩阵（待补充）",
      matrixHint:"小格子从左到右：1200-1399 / 1400-1599 / 1600-1799 / 1800-1999 / 2000-2100",
      refsHTML:`- （待补充）`,
      data: { BRACKETS: SUPPORT_BRACKETS, HEROES: [], PROFILE: null },
      sortOptions: [
        {value:"RATING", text:"按当前分段适配排序"},
        {value:"OVERALL", text:"按版本梯度排序"},
        {value:"NAME", text:"按名称排序"},
      ],
      miniMetrics: [],
      barItems: [],
      quickMap: {},
      quickSlice: 42,
      modalTipsHTML: `<strong>提示</strong><br/>该分路详情待补充。`,
      placeholder: true,
    },
  };

  const DEFAULT_STATES = {
    support: { bracket:"b3", tierFilter:"ALL", sortBy:"RATING" },
    mid: { bracket:"b3", tierFilter:"ALL", sortBy:"RATING" },
    jungle: { bracket:"b3", tierFilter:"ALL", sortBy:"RATING" },
    marksman: { bracket:"b3", tierFilter:"ALL", sortBy:"RATING" },
    solo: { bracket:"b3", tierFilter:"ALL", sortBy:"RATING" },
  };

  let currentRole = "support";
  let stateByRole = JSON.parse(JSON.stringify(DEFAULT_STATES));

  const els = {
    roleTabs: document.getElementById("roleTabs"),
    tabs: document.getElementById("tabs"),
    curBracketLabel: document.getElementById("currentBracketLabel"),
    heroGrid: document.getElementById("heroGrid"),
    topPicks: document.getElementById("topPicks"),
    profileKpis: document.getElementById("profileKpis"),
    profileNotes: document.getElementById("profileNotes"),
    macroBadge: document.getElementById("macroBadge"),
    tierFilter: document.getElementById("tierFilter"),
    sortBy: document.getElementById("sortBy"),
    resetBtn: document.getElementById("resetBtn"),
    pageTitle: document.getElementById("pageTitle"),
    pageSubtitle: document.getElementById("pageSubtitle"),
    poolTitle: document.getElementById("poolTitle"),
    matrixTitle: document.getElementById("matrixTitle"),
    matrixHint: document.getElementById("matrixHint"),
    refSources: document.getElementById("refSources"),

    modalBackdrop: document.getElementById("modalBackdrop"),
    modalImg: document.getElementById("modalImg"),
    modalTitle: document.getElementById("modalTitle"),
    modalChips: document.getElementById("modalChips"),
    modalText: document.getElementById("modalText"),
    modalBars: document.getElementById("modalBars"),
    modalTips: document.getElementById("modalTips"),
    closeModalBtn: document.getElementById("closeModalBtn"),
  };

  // ---- Mobile UX helpers ----
  function setBodyScrollLocked(locked){
    document.documentElement.classList.toggle("noScroll", !!locked);
    document.body.classList.toggle("noScroll", !!locked);
  }

  // Auto-hide sticky header on small screens to free vertical space.
  (function(){
    const headerEl = document.querySelector("header");
    if(!headerEl) return;

    let lastY = window.scrollY || 0;
    let ticking = false;

    function update(){
      ticking = false;
      if(window.innerWidth > 720){ headerEl.classList.remove("isHidden"); return; }

      const y = window.scrollY || 0;
      const dy = y - lastY;

      // Hide when scrolling down; show when scrolling up.
      if(y > 90 && dy > 6) headerEl.classList.add("isHidden");
      if(dy < -6) headerEl.classList.remove("isHidden");

      lastY = y;
    }

    window.addEventListener("scroll", ()=>{
      if(!ticking){
        ticking = true;
        requestAnimationFrame(update);
      }
    }, {passive:true});

    window.addEventListener("resize", ()=>{
      headerEl.classList.remove("isHidden");
      lastY = window.scrollY || 0;
    });
  })();

  function getRoleCfg(roleKey){
    return ROLE_CONFIGS[roleKey] ?? ROLE_CONFIGS.support;
  }

  function getState(){
    return stateByRole[currentRole];
  }

  function rebuildRoleTabs(){
    els.roleTabs.innerHTML = "";
    ROLE_LIST.forEach(r=>{
      const d = document.createElement("div");
      d.className = "tab" + (r.key===currentRole ? " active" : "");
      d.textContent = r.label;
      d.onclick = ()=> setRole(r.key);
      els.roleTabs.appendChild(d);
    });
  }

  function rebuildBracketTabs(){
    const cfg = getRoleCfg(currentRole);
    const BRACKETS = cfg.data.BRACKETS;
    const state = getState();

    els.tabs.innerHTML = "";
    BRACKETS.forEach(b=>{
      const d = document.createElement("div");
      d.className = "tab" + (b.key===state.bracket ? " active":"");
      d.textContent = b.label;
      d.onclick = ()=>{ state.bracket=b.key; render(true); };
      els.tabs.appendChild(d);
    });
  }

  function rebuildSortOptions(){
    const cfg = getRoleCfg(currentRole);
    const state = getState();
    els.sortBy.innerHTML = "";
    cfg.sortOptions.forEach(o=>{
      const opt = document.createElement("option");
      opt.value = o.value;
      opt.textContent = o.text;
      els.sortBy.appendChild(opt);
    });
    // fallback if sortBy not available
    const values = new Set(cfg.sortOptions.map(o=>o.value));
    if(!values.has(state.sortBy)){
      state.sortBy = cfg.sortOptions[0]?.value ?? "RATING";
    }
    els.sortBy.value = state.sortBy;
  }

  function applyRoleUI(){
    const cfg = getRoleCfg(currentRole);
    els.pageTitle.textContent = cfg.pageTitle;
    document.title = cfg.pageTitle;

    els.pageSubtitle.innerHTML = cfg.subtitleHTML;
    const todayEl = document.getElementById("today");
    if(todayEl) todayEl.textContent = new Date().toISOString().slice(0,10);

    els.poolTitle.textContent = cfg.poolTitle;
    els.matrixTitle.textContent = cfg.matrixTitle;
    els.matrixHint.textContent = cfg.matrixHint;
    els.refSources.innerHTML = cfg.refsHTML;
  }

  function syncControlsFromState(){
    const state = getState();
    els.tierFilter.value = state.tierFilter;
    // sortBy handled in rebuildSortOptions
  }

  function setRole(roleKey, fromHash=false){
    if(!ROLE_CONFIGS[roleKey]) roleKey = "support";
    if(roleKey === currentRole) return;

    closeModal();
    currentRole = roleKey;

    // update hash for decoupling / deep link
    if(!fromHash) {
      const next = "#" + roleKey;
      if(location.hash !== next) location.hash = next;
    }

    rebuildRoleTabs();
    applyRoleUI();
    rebuildSortOptions();
    rebuildBracketTabs();
    syncControlsFromState();
    render(true);
  }

  function init(){
    // initial role by hash
    const hashRole = (location.hash || "").replace("#","").trim();
    if(hashRole && ROLE_CONFIGS[hashRole]) currentRole = hashRole;

    rebuildRoleTabs();
    applyRoleUI();
    rebuildSortOptions();
    rebuildBracketTabs();
    syncControlsFromState();

    els.tierFilter.onchange = ()=>{ getState().tierFilter = els.tierFilter.value; render(false); };
    els.sortBy.onchange = ()=>{ getState().sortBy = els.sortBy.value; render(false); };
    els.resetBtn.onclick = ()=>{
      stateByRole[currentRole] = JSON.parse(JSON.stringify(DEFAULT_STATES[currentRole] ?? DEFAULT_STATES.support));
      rebuildSortOptions();
      rebuildBracketTabs();
      syncControlsFromState();
      render(true);
    };

    els.closeModalBtn.onclick = closeModal;
    els.modalBackdrop.onclick = (e)=>{ if(e.target===els.modalBackdrop) closeModal(); };
    window.addEventListener("keydown",(e)=>{ if(e.key==="Escape") closeModal(); });

    window.addEventListener("hashchange", ()=>{
      const r = (location.hash || "").replace("#","").trim();
      if(r && r !== currentRole && ROLE_CONFIGS[r]) setRole(r, true);
    });

    render(true);
  }

  function render(updateTabs=false){
    const cfg = getRoleCfg(currentRole);
    const state = getState();
    const { BRACKETS, HEROES, PROFILE } = cfg.data;

    // tabs active
    [...els.tabs.children].forEach((t,i)=>{
      const bk = BRACKETS[i]?.key;
      t.classList.toggle("active", bk===state.bracket);
    });

    // current bracket
    const b = BRACKETS.find(x=>x.key===state.bracket) ?? BRACKETS[0];
    els.curBracketLabel.textContent = b?.label ?? "—";

    // placeholder role
    if(cfg.placeholder){
      els.macroBadge.textContent = "待更新";
      els.profileKpis.innerHTML = "";
      [["状态","该分路页面已预留位置"],["说明","点击顶部其他分路即可切换，互不影响"]].forEach(([k,v])=>{
        const div=document.createElement("div");
        div.className="kpi";
        div.innerHTML = `<div class="k">${k}</div><div class="v">${v}</div>`;
        els.profileKpis.appendChild(div);
      });
      els.profileNotes.innerHTML = "数据后续补充：分段画像、优先池、全英雄矩阵与详细适配说明。";

      els.topPicks.innerHTML = `<div class="pick" style="width:100%">该分路数据待补充（已留入口）。</div>`;
      els.heroGrid.innerHTML = `<div class="noteBox">该分路英雄列表与评分矩阵待补充。</div>`;
      return;
    }

    // Profile
    els.macroBadge.textContent = PROFILE[state.bracket]?.macroBadge ?? "—";
    els.profileKpis.innerHTML = "";
    (PROFILE[state.bracket]?.kpis ?? []).forEach(([k,v])=>{
      const div=document.createElement("div");
      div.className="kpi";
      div.innerHTML = `<div class="k">${k}</div><div class="v">${v}</div>`;
      els.profileKpis.appendChild(div);
    });
    els.profileNotes.innerHTML = PROFILE[state.bracket]?.notes ?? "";

    // Filter
    let list = HEROES.slice();
    if(state.tierFilter!=="ALL") list = list.filter(h=>h.overallTier===state.tierFilter);

    // Sort
    const bk = state.bracket;
    list.sort((a,b)=>{
      if(state.sortBy==="RATING"){
        const da = ratingScore[a.ratings[bk]] ?? 0;
        const db = ratingScore[b.ratings[bk]] ?? 0;
        if(db!==da) return db-da;
        if(a.overallRank!==b.overallRank) return a.overallRank-b.overallRank;
        return a.name.localeCompare(b.name,"zh");
      }
      if(state.sortBy==="OVERALL"){
        if(a.overallRank!==b.overallRank) return a.overallRank-b.overallRank;
        const da = ratingScore[a.ratings[bk]] ?? 0;
        const db = ratingScore[b.ratings[bk]] ?? 0;
        if(db!==da) return db-da;
        return a.name.localeCompare(b.name,"zh");
      }
      if(state.sortBy==="NAME") return a.name.localeCompare(b.name,"zh");

      if(state.sortBy==="DIFF") return (b.stats?.diff ?? 0) - (a.stats?.diff ?? 0) || a.name.localeCompare(b.name,"zh");
      if(state.sortBy==="SYNC") return (b.stats?.sync ?? 0) - (a.stats?.sync ?? 0) || a.name.localeCompare(b.name,"zh");
      if(state.sortBy==="CLEAR") return (b.stats?.clear ?? 0) - (a.stats?.clear ?? 0) || a.name.localeCompare(b.name,"zh");
      if(state.sortBy==="ROAM") return (b.stats?.roam ?? 0) - (a.stats?.roam ?? 0) || a.name.localeCompare(b.name,"zh");

      return 0;
    });

    // Top picks
    const top = list
      .filter(h => ["S","A"].includes(h.ratings[bk]))
      .sort((a,b)=>ratingScore[b.ratings[bk]]-ratingScore[a.ratings[bk]])
      .slice(0, 8);

    els.topPicks.innerHTML = "";
    top.forEach(h=>{
      const div=document.createElement("div");
      div.className="pick";
      div.innerHTML = `
        <img class="avatar" src="${h.img}" alt="${h.name}"/>
        <div style="min-width:0">
          <div style="display:flex;gap:8px;align-items:center;justify-content:space-between">
            <div class="name">${h.name}</div>
            <span class="${tierBadgeClass(h.overallTier)}">${h.overallTier}</span>
          </div>
          <div class="desc">${pickDesc(h, bk)}</div>
        </div>
      `;
      div.onclick = ()=> openModal(h);
      els.topPicks.appendChild(div);
    });

    // Grid
    els.heroGrid.innerHTML = "";
    list.forEach(h=>{
      const div=document.createElement("div");
      div.className="hero";
      div.innerHTML = `
        <img class="avatar" src="${h.img}" alt="${h.name}"/>
        <div class="meta">
          <div class="row">
            <div class="nm" title="${h.name}">${h.name}</div>
            <span class="${tierBadgeClass(h.overallTier)}">${h.overallTier}</span>
          </div>
          <div class="type" title="${h.type}">${h.type}</div>
          <div class="matrix">
            ${
              bracketOrder.map(k=>{
                const r = h.ratings[k];
                const sel = (k===bk) ? " sel":"";
                return `<div class="cell ${r}${sel}" title="${k.toUpperCase()}">${r}</div>`;
              }).join("")
            }
          </div>
          <div class="mini">${heroMini(h, bk)}</div>
        </div>
      `;
      div.onclick = ()=> openModal(h);
      els.heroGrid.appendChild(div);
    });
  }

  function pickDesc(h, bk){
    const cfg = getRoleCfg(currentRole);
    const quick = (cfg.quickMap ?? {})[bk] ?? "";
    const sliceLen = cfg.quickSlice ?? 42;
    return `${h.summary.slice(0,sliceLen)}… <span style="color:rgba(125,211,252,.95)">（${quick}）</span>`;
  }

  function heroMini(h, bk){
    const cfg = getRoleCfg(currentRole);
    const BRACKETS = cfg.data.BRACKETS;
    const best = BRACKETS.find(x=>x.key===h.bestBracket)?.label ?? "—";
    const parts = (cfg.miniMetrics ?? []).map(m=>`${m.label}：${stars(h.stats?.[m.key] ?? 0)}`);
    return `推荐分段：<strong>${best}</strong>${parts.length ? " · " + parts.join(" · ") : ""}`;
  }

  function tierBadgeClass(t){
    return "badge " + (t==="T0"?"t0": t==="T0.5"?"t05": t==="T1"?"t1": t==="T2"?"t2": t==="T3"?"t3":"t4");
  }

  function stars(n){
    n = Math.max(0, Math.min(5, Number(n) || 0));
    return "★".repeat(n) + "☆".repeat(5-n);
  }

  function openModal(h){
    const cfg = getRoleCfg(currentRole);
    const state = getState();
    const BRACKETS = cfg.data.BRACKETS;

    els.modalImg.src = h.img;
    els.modalImg.alt = h.name;
    els.modalTitle.textContent = h.name;

    els.modalChips.innerHTML = `
      <span class="${tierBadgeClass(h.overallTier)}">${h.overallTier}</span>
      <span class="chip">${h.type}</span>
      <span class="chip">推荐分段：${BRACKETS.find(x=>x.key===h.bestBracket)?.label ?? "—"}</span>
      <span class="chip">当前分段适配：<strong style="color:var(--text)">${h.ratings[state.bracket]}</strong></span>
    `;

    const per = h.perBracketTips[state.bracket] ?? "—";
    els.modalText.innerHTML = `
      <div><strong>一句话定位：</strong>${h.summary}</div>
      <div style="margin-top:10px"><strong>在当前分段（${BRACKETS.find(x=>x.key===state.bracket).label}）怎么玩更容易赢：</strong><br/>${per}</div>
      <div style="margin-top:10px"><strong>队友画像匹配：</strong>${h.teamNeed}</div>
      <div class="chips">
        ${h.tags.map(t=>`<span class="chip">#${t}</span>`).join("")}
      </div>
    `;

    els.modalBars.innerHTML = "";
    (cfg.barItems ?? []).forEach(([lbl,key])=>{
      const val = h.stats?.[key] ?? 0;
      const row=document.createElement("div");
      row.className="barRow";
      row.innerHTML = `
        <div class="lbl">${lbl}</div>
        <div class="bar"><div class="fill" style="width:${(val/5)*100}%"></div></div>
        <div class="n">${val}/5</div>
      `;
      els.modalBars.appendChild(row);
    });

    els.modalTips.innerHTML = cfg.modalTipsHTML ?? "";

    setBodyScrollLocked(true);
    els.modalBackdrop.style.display="flex";
    els.modalBackdrop.setAttribute("aria-hidden","false");
  }

  function closeModal(){
    els.modalBackdrop.style.display="none";
    els.modalBackdrop.setAttribute("aria-hidden","true");
    setBodyScrollLocked(false);
  }

  init();
</script>

</body>
</html>
